

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Utils &mdash; omc3 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Tune Analysis" href="tune_analysis.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/omc_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Main Entrypoints</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/analysis.html">Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/analysis.html#hole-in-one">Hole in One</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/analysis.html#amplitude-detuning-analysis">Amplitude Detuning Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/analysis.html#run-kmod">Run Kmod</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/correction.html">Correction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/correction.html#global-correction">Global Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/correction.html#response-creator">Response Creator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/other.html">Other</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/other.html#tbt-converter">TbT Converter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/other.html#model-creator">Model Creator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/other.html#mad-x-wrapper">MAD-X Wrapper</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/plotting.html">Plotting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/plotting.html#plot-optics-measurements">Plot Optics Measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/plotting.html#plot-tfs">Plot TFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/plotting.html#plot-spectrum">Plot Spectrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/plotting.html#plot-amplitude-detuning-results">Plot Amplitude Detuning Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/plotting.html#plot-bbq">Plot BBQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/scripts.html">Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/scripts.html#merge-kmod-results">Merge KMOD Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/scripts.html#update-natural-tune-in-lin-files">Update Natural Tune in Lin-Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/scripts.html#write-mad-x-macros">Write MAD-X Macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/scripts.html#fake-measurement-from-model">Fake Measurement from Model</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="correction.html">Correction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="correction.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#filters">Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#handler">Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#model-appenders">Model Appenders</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#model-diff">Model Diff</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#response-mad-x">Response MAD-X</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#response-twiss">Response TWISS</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#sequence-evaluation">Sequence Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="correction.html#response-matrix-io">Response Matrix IO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="definitions.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="definitions.html#formats">Formats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="harpy.html">Harpy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="harpy.html#clean">Clean</a></li>
<li class="toctree-l2"><a class="reference internal" href="harpy.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="harpy.html#frequency">Frequency</a></li>
<li class="toctree-l2"><a class="reference internal" href="harpy.html#handler">Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="harpy.html#kicker">Kicker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kmod.html">Kmod</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kmod.html#analysis">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="kmod.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="kmod.html#helper">Helper</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="model.html#manager">Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#accelerator">Accelerator</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#esrf">ESRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#lhc">LHC</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#ps">PS</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#ps-booster">PS Booster</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#superkekb">SuperKEKB</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#iota">Iota</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#petra">PETRA</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#lhc-model-creator">LHC Model Creator</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#ps-model-creator">PS Model Creator</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#ps-booster-model-creator">PS Booster Model Creator</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#segment-creator">Segment Creator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="optics_measurements.html">Optics Measurements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#measure-optics">Measure Optics</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#beta-from-amplitude">Beta from Amplitude</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#beta-from-phase">Beta from Phase</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#chromatic">Chromatic</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#combined-rdts">Combined RDTs</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#dispersion">Dispersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#dpp">Dpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#isolation-forest">Isolation Forest</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#interaction-point">Interaction Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#kick">Kick</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#phase-advance">Phase Advance</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#resonance-driving-terms">Resonance Driving Terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#toolbox">Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="optics_measurements.html#tune">Tune</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plot-Subfunctions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plotting.html#module-omc3.plotting.optics_measurements.constants">Optics Measurements Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html#module-omc3.plotting.spectrum.stem">Spectrum Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html#module-omc3.plotting.utils.annotations">Common Plot Functionality</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tbt.html">Turn-by-Turn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tbt.html#handler">Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="tbt.html#esrf-tbt-data-handler">ESRF TbT Data Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="tbt.html#iota-tbt-data-handler">Iota TbT Data Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="tbt.html#lhc-tbt-data-handler">LHC TbT Data Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="tbt.html#ptc-tbt-data-handler">PTC TbT Data Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="tbt.html#trackone-tbt-data-handler">Trackone TbT Data Handler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tune_analysis.html">Tune Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tune_analysis.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="tune_analysis.html#bbq-tools">BBQ Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="tune_analysis.html#fitting-tools">Fitting Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="tune_analysis.html#kick-file-modifiers">Kick File Modifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tune_analysis.html#timber-extraction">Timber Extraction</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#contexts">Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#io-tools">IO Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging-tools">Logging Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mock">Mock</a></li>
<li class="toctree-l2"><a class="reference internal" href="#outliers">Outliers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stats">Stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-tools">Time Tools</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">omc3</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/modules/utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-omc3.utils.contexts">
<span id="utils"></span><h1>Utils<a class="headerlink" href="#module-omc3.utils.contexts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="contexts">
<h2>Contexts<a class="headerlink" href="#contexts" title="Permalink to this headline">¶</a></h2>
<p>Provides contexts managers to use.</p>
<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.contexts.log_out">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.contexts.</span></span><span class="sig-name descname"><span class="pre">log_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">stdout=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='UTF-8'&gt;</span></em>, <em class="sig-param"><span class="pre">stderr=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stderr&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='UTF-8'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#log_out"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.contexts.log_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily changes <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.contexts.silence">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.contexts.</span></span><span class="sig-name descname"><span class="pre">silence</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#silence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.contexts.silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Suppress all console output, rerouting <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> to devnull.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.contexts.suppress_warnings">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.contexts.</span></span><span class="sig-name descname"><span class="pre">suppress_warnings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">warning_classes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#suppress_warnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.contexts.suppress_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Suppress all warnings of given classes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.contexts.timeit">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.contexts.</span></span><span class="sig-name descname"><span class="pre">timeit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#timeit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.contexts.timeit" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the time at the end of the context via <code class="docutils literal notranslate"><span class="pre">function</span></code>.</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.iotools"></span><div class="section" id="io-tools">
<h2>IO Tools<a class="headerlink" href="#io-tools" title="Permalink to this headline">¶</a></h2>
<p>Helper functions for input/output issues.</p>
<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.iotools.PathOrStr">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">PathOrStr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#PathOrStr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.PathOrStr" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that behaves like a Path when possible, otherwise like a string.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.iotools.PathOrStrOrDataFrame">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">PathOrStrOrDataFrame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#PathOrStrOrDataFrame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.PathOrStrOrDataFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that behaves like a Path when possible, otherwise like a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.iotools.convert_paths_in_dict_to_strings">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">convert_paths_in_dict_to_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#convert_paths_in_dict_to_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.convert_paths_in_dict_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts all Paths in the dict to strings, including those in iterables.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.iotools.copy_content_of_dir">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_content_of_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#copy_content_of_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.copy_content_of_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies all files and directories from <code class="docutils literal notranslate"><span class="pre">src_dir</span></code> to <code class="docutils literal notranslate"><span class="pre">dst_dir</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.iotools.copy_item">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#copy_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.copy_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies a file or a directory to <code class="docutils literal notranslate"><span class="pre">dest</span></code>, which may be a directory.
If <code class="docutils literal notranslate"><span class="pre">src_item</span></code> is a directory then all containing files and dirs will be copied into <code class="docutils literal notranslate"><span class="pre">dest</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.iotools.create_dirs">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">create_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#create_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.create_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates all dirs to <code class="docutils literal notranslate"><span class="pre">path_to_dir</span></code> if not exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.iotools.remove_none_dict_entries">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">remove_none_dict_entries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#remove_none_dict_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.remove_none_dict_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes <code class="docutils literal notranslate"><span class="pre">None</span></code> entries from dict. This can be used as a workaround to
<a class="reference external" href="https://github.com/pylhc/generic_parser/issues/26">https://github.com/pylhc/generic_parser/issues/26</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.iotools.save_config">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.iotools.</span></span><span class="sig-name descname"><span class="pre">save_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#save_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.iotools.save_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick wrapper for <code class="docutils literal notranslate"><span class="pre">save_options_to_config</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_dir</strong> (<em>Path</em>) -- Path to the output directory (does not need to exist).</p></li>
<li><p><strong>opt</strong> (<em>dict</em>) -- opt-structure to be saved.</p></li>
<li><p><strong>script</strong> (<em>str</em>) -- path/name of the invoking script (becomes name of the .ini) usually
<code class="docutils literal notranslate"><span class="pre">__file__</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.logging_tools"></span><div class="section" id="logging-tools">
<h2>Logging Tools<a class="headerlink" href="#logging-tools" title="Permalink to this headline">¶</a></h2>
<p>Functions for easier use of logging, like automatic logger setup
(see: <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_logger()</span></code>).</p>
<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.DebugMode">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">DebugMode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#DebugMode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.DebugMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Context Manager for the debug mode.
Hint: Does not work with <code class="docutils literal notranslate"><span class="pre">&#64;contextmanager</span></code> from contextlib (even though nicer code),
as the <code class="docutils literal notranslate"><span class="pre">_get_caller</span></code> would find <strong>contextlib.py</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>active</strong> (<em>bool</em>) -- Defines if this manager is doing anything. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) -- File to log into.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.MaxFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">MaxFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#MaxFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.MaxFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>To get messages only up to a certain level.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.TempFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">TempFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#TempFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.TempFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Context Manager. Lets another function write into a temporary file and logs its contents.
It won’t open the file, so only the files path is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) -- Place to write the tempfile to.</p></li>
<li><p><strong>log_func</strong> (<em>func</em>) -- The function with which the content should be logged (e.g. LOG.info).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.TempStringLogger">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">TempStringLogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#TempStringLogger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.TempStringLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily log into a string that can be retrieved by <code class="docutils literal notranslate"><span class="pre">get_log</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> -- module to log, defaults to the caller file.</p></li>
<li><p><strong>level</strong> -- logging level, defaults to <code class="docutils literal notranslate"><span class="pre">INFO</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.TempStringLogger.get_log">
<span class="sig-name descname"><span class="pre">get_log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#TempStringLogger.get_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.TempStringLogger.get_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the log as string.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.add_module_handler">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">add_module_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#add_module_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.add_module_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add handler at current module level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.add_root_handler">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">add_root_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#add_root_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.add_root_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add handler at root level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.file_handler">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">file_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(levelname)7s</span> <span class="pre">|</span> <span class="pre">%(message)s</span> <span class="pre">|</span> <span class="pre">%(name)s'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#file_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.file_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function so the caller does not have to import logging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.getLogger">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">getLogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#getLogger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.getLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function so the caller does not have to import logging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.get_logger">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level_root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level_console</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(levelname)7s</span> <span class="pre">|</span> <span class="pre">%(message)s</span> <span class="pre">|</span> <span class="pre">%(name)s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#get_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.get_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up logger if name is <strong>__main__</strong>. Returns logger based on module name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- only used to check if __name__ is __main__.</p></li>
<li><p><strong>level_root</strong> -- main logging level, defaults to <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>.</p></li>
<li><p><strong>level_console</strong> -- console logging level, defaults to <code class="docutils literal notranslate"><span class="pre">INFO</span></code>.</p></li>
<li><p><strong>fmt</strong> -- Format of the logging. For default see <code class="docutils literal notranslate"><span class="pre">BASIC_FORMAT</span></code>.</p></li>
<li><p><strong>color</strong> -- If <cite>None</cite> colors are used if tty is detected.
<cite>False</cite> will never use colors and <cite>True</cite> will always enforce them.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Logger instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.get_my_logger_name">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">get_my_logger_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#get_my_logger_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.get_my_logger_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the logger name for the caller.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.list2str">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">list2str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#list2str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.list2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns string representation of <code class="docutils literal notranslate"><span class="pre">list_</span></code>, but without brackets.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.log_pandas_settings_with_copy">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">log_pandas_settings_with_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#log_pandas_settings_with_copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.log_pandas_settings_with_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs pandas <code class="docutils literal notranslate"><span class="pre">SettingsWithCopy</span></code> warning to loc_func instead of printing the warning.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.logging_silence">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">logging_silence</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#logging_silence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.logging_silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove temporarily all loggers from root logger.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.odr_pprint">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">odr_pprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">printer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">odr_out</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#odr_pprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.odr_pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs the odr output results. Adapted from odr_output pretty print.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.stream_handler">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">stream_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">stream=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='UTF-8'&gt;</span></em>, <em class="sig-param"><span class="pre">level=10</span></em>, <em class="sig-param"><span class="pre">fmt='%(levelname)7s</span> <span class="pre">|</span> <span class="pre">%(message)s</span> <span class="pre">|</span> <span class="pre">%(name)s'</span></em>, <em class="sig-param"><span class="pre">max_level=None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#stream_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.stream_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function so the caller does not have to import logging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.logging_tools.unformatted_console_logging">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.logging_tools.</span></span><span class="sig-name descname"><span class="pre">unformatted_console_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#unformatted_console_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.logging_tools.unformatted_console_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Log only to console and only unformatted.</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.mock"></span><div class="section" id="mock">
<h2>Mock<a class="headerlink" href="#mock" title="Permalink to this headline">¶</a></h2>
<p>Provides mock functionality for packages necessitating the <code class="docutils literal notranslate"><span class="pre">CERN</span> <span class="pre">GPN</span></code> and only installable from the
<code class="docutils literal notranslate"><span class="pre">acc-py</span></code> package index, such as <code class="docutils literal notranslate"><span class="pre">pytimber</span></code>, <code class="docutils literal notranslate"><span class="pre">pjlsa</span></code> etc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">omc3.utils.mock</span> <span class="kn">import</span> <span class="n">cern_network_import</span>
<span class="n">pytimber</span> <span class="o">=</span> <span class="n">cern_network_import</span><span class="p">(</span><span class="s2">&quot;pytimber&quot;</span><span class="p">)</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">pytimber</span><span class="o">.</span><span class="n">LoggingDB</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">&quot;nxcals&quot;</span><span class="p">)</span>  <span class="c1"># will raise if pytimber not installed</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.mock.CERNNetworkMockPackage">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.mock.</span></span><span class="sig-name descname"><span class="pre">CERNNetworkMockPackage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/mock.html#CERNNetworkMockPackage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.mock.CERNNetworkMockPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Mock class to raise an error if the desired package functionality is called when the package is not
actually installed. Designed for packages installable only from inside the CERN network,
that are declared as <code class="docutils literal notranslate"><span class="pre">cern</span></code> extra. See module documentation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.mock.cern_network_import">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.mock.</span></span><span class="sig-name descname"><span class="pre">cern_network_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">package</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/mock.html#cern_network_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.mock.cern_network_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to try and import packages only available (and installable) on the CERN network.
If installed, the module is returned, otherwise a mock class is returned, which will raise an
insightful <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> on attempted use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>package</strong> (<em>str</em>) -- name of the package to try and import.</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.outliers"></span><div class="section" id="outliers">
<h2>Outliers<a class="headerlink" href="#outliers" title="Permalink to this headline">¶</a></h2>
<p>Helper functions for outlier detection.</p>
<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.outliers.get_filter_mask">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.outliers.</span></span><span class="sig-name descname"><span class="pre">get_filter_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">niter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/outliers.html#get_filter_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.outliers.get_filter_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters the array of values which are meant to be constant or a linear function of the other
array if that is provided. Returns a filter mask for the original array</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.stats"></span><div class="section" id="stats">
<h2>Stats<a class="headerlink" href="#stats" title="Permalink to this headline">¶</a></h2>
<p>Helper module providing statistical methods to compute various weighted averages along specified
axis and their errors as well as unbiased error estimator of infinite normal distribution from
finite-sized sample.</p>
<ul class="simple">
<li><p>TODO: use weighted average and its error in circular calculations</p></li>
<li><p>TODO: write tests</p></li>
<li><p>TODO: LOGGER or Raising error and warnings?</p></li>
<li><p>TODO: if zeros or nans occur in errors, fallback to uniform weights only in affected cases</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.circular_error">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">circular_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.283185307179586</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_value_corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#circular_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.circular_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes error of weighted circular average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>period</strong> -- scalar, optional
Periodicity period of data, default is (2 * np.pi)</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
<li><p><strong>t_value_corr</strong> -- bool, optional
Species if the error is corrected for small sample size, default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.circular_mean">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">circular_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.283185307179586</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#circular_mean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.circular_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weighted circular average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>period</strong> -- scalar, optional, default (2 * np.pi)
Periodicity period of data</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.circular_nanerror">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">circular_nanerror</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.283185307179586</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_value_corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#circular_nanerror"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.circular_nanerror" title="Permalink to this definition">¶</a></dt>
<dd><p>“Wrapper around circular_error with added nan handling</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.circular_nanmean">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">circular_nanmean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.283185307179586</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#circular_nanmean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.circular_nanmean" title="Permalink to this definition">¶</a></dt>
<dd><p>“Wrapper around circular_mean with added nan handling</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.effective_sample_size">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">effective_sample_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#effective_sample_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.effective_sample_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes effective sample size of weighted data along specifies axis,
the minimum value returned is 2 to avoid non-reasonable error blow-up</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like</p></li>
<li><p><strong>weights</strong> -- array-like
Contains weights associated with the values in data</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which the effective sample size is computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.t_value_correction">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">t_value_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#t_value_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.t_value_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the multiplicative correction factor to determine standard deviation of normally
distributed quantity from standard deviation of its finite-sized sample
the minimum allowed sample size is 2 to avoid non-reasonable error blow-up
for smaller sample sizes 2 is used instead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sample_size</strong> -- array-like</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>multiplicative correction factor(s) of same shape as sample_size</dt><dd><p>can contain nans</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.unbias_variance">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">unbias_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#unbias_variance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.unbias_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a correction factor to unbias variance of weighted average of data along specified axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like</p></li>
<li><p><strong>weights</strong> -- array-like
Contains weights associated with the values in data</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which the effective sample size is computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.weighted_error">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">weighted_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_value_corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.weighted_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes error of weighted average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
<li><p><strong>t_value_corr</strong> -- bool, optional
Species if the error is corrected for small sample size, default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.weighted_mean">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">weighted_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_mean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.weighted_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weighted average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the weighted average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.weighted_nanmean">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">weighted_nanmean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_nanmean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.weighted_nanmean" title="Permalink to this definition">¶</a></dt>
<dd><p>“Wrapper around weighted_mean with added nan handling</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.weighted_nanrms">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">weighted_nanrms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_nanrms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.weighted_nanrms" title="Permalink to this definition">¶</a></dt>
<dd><p>“Wrapper around weigthed_rms with added nan handling</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.weighted_rms">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">weighted_rms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_rms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.weighted_rms" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weighted root mean square along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns weighted root mean square along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.stats.weights_from_errors">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.stats.</span></span><span class="sig-name descname"><span class="pre">weights_from_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.283185307179586</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weights_from_errors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.stats.weights_from_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weights from measurement errors, weights are not output if errors contain zeros or nans</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>errors</strong> -- array-like
Contains errors which are used to calculated weights</p></li>
<li><p><strong>period</strong> -- scalar, optional
Periodicity period of data, default is (2 * np.pi)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.time_tools"></span><div class="section" id="time-tools">
<h2>Time Tools<a class="headerlink" href="#time-tools" title="Permalink to this headline">¶</a></h2>
<p>Provides tools to handle times more easily, in particular to switch easily between local time
and UTC time.</p>
<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">AccDatetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for a datetime object to easily convert between local and UTC time as well as give
different presentations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add timedelta and return as new object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.cern_utc_string">
<span class="sig-name descname"><span class="pre">cern_utc_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.cern_utc_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.cern_utc_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Get utc time as string (CERN format).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.datetime">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">datetime</span></span><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return normal datetime object (in case ducktyping does not work. Looking at you, mpl!).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.from_cern_utc_string">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_cern_utc_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.from_cern_utc_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.from_cern_utc_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <cite>AccDatetime</cite> object from datetime in utc string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.from_local">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.from_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.from_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Create AccDatetime object from datetime in local time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.from_local_string">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_local_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.from_local_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.from_local_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <cite>AccDatetime</cite> object from datetime in local time string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.from_timestamp">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.from_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.from_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <cite>AccDatetime</cite> object from timestamp.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.from_utc">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_utc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.from_utc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.from_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <cite>AccDatetime</cite> object from datetime in utc.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.from_utc_string">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_utc_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.from_utc_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.from_utc_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <cite>AccDatetime</cite> object from datetime in utc string.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.local">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">local</span></span><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.local" title="Permalink to this definition">¶</a></dt>
<dd><p>Get local datetime object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.local_string">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">local_string</span></span><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.local_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Get local time as string.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.local_timezone">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">local_timezone</span></span><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.local_timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>Get local timezone.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.now">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.now" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <cite>AccDatetime</cite> object at now.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.sub">
<span class="sig-name descname"><span class="pre">sub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#AccDatetime.sub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract timedelta and return as new object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.utc">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">utc</span></span><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get UTC datetime object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AccDatetime.utc_string">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">utc_string</span></span><a class="headerlink" href="#omc3.utils.time_tools.AccDatetime.utc_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Get utc time as string.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="omc3.utils.time_tools.AcceleratorDatetime">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">AcceleratorDatetime</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'lhc':</span> <span class="pre">&lt;class</span> <span class="pre">'omc3.utils.time_tools.CERNDatetime'&gt;,</span> <span class="pre">'ps':</span> <span class="pre">&lt;class</span> <span class="pre">'omc3.utils.time_tools.CERNDatetime'&gt;,</span> <span class="pre">'sps':</span> <span class="pre">&lt;class</span> <span class="pre">'omc3.utils.time_tools.CERNDatetime'&gt;}</span></em><a class="headerlink" href="#omc3.utils.time_tools.AcceleratorDatetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Accelerator name to AccDatetime mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="omc3.utils.time_tools.CERNDatetime">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">CERNDatetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#CERNDatetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.CERNDatetime" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>AccDatetime</cite> class for all accelerators at CERN.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.cern_utc_string_to_utc">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">cern_utc_string_to_utc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">utc_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#cern_utc_string_to_utc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.cern_utc_string_to_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a time string in cern-utc to a utc datetime object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.check_tz">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">check_tz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localized_dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#check_tz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.check_tz" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if timezone is correct.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.get_cern_time_format">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">get_cern_time_format</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#get_cern_time_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.get_cern_time_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Default time format.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.get_cern_timezone">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">get_cern_timezone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#get_cern_timezone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.get_cern_timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>Get time zone for cern measurement data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.get_readable_time_format">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">get_readable_time_format</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#get_readable_time_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.get_readable_time_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable time format.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.local_string_to_utc">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">local_string_to_utc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#local_string_to_utc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.local_string_to_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a time string in local time to UTC time.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.local_to_utc">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">local_to_utc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt_local</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#local_to_utc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.local_to_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert local datetime object to utc datetime object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.utc_now">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">utc_now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#utc_now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.utc_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Get UTC now as time.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.utc_string_to_utc">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">utc_string_to_utc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">utc_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#utc_string_to_utc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.utc_string_to_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a time string in utc to a UTC datetime object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="omc3.utils.time_tools.utc_to_local">
<span class="sig-prename descclassname"><span class="pre">omc3.utils.time_tools.</span></span><span class="sig-name descname"><span class="pre">utc_to_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt_utc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/time_tools.html#utc_to_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#omc3.utils.time_tools.utc_to_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTC datetime object to local datetime object.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tune_analysis.html" class="btn btn-neutral float-left" title="Tune Analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright .

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>