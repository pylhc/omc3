

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Optics Measurements &mdash; omc3 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Plot-Subfunctions" href="../plotting/index.html" />
    <link rel="prev" title="Model" href="../model/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> omc3
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/index.html">Main Entrypoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../definitions/index.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../harpy/index.html">Harpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/index.html">Model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Optics Measurements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#measure-optics">Measure optics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#beta-from-amplitude">Beta from amplitude</a></li>
<li class="toctree-l2"><a class="reference internal" href="#beta-from-phase">Beta from phase</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chromatic">Chromatic</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dispersion">Dispersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dpp">Dpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="#isolation-forest">Isolation forest</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ip">IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kick">Kick</a></li>
<li class="toctree-l2"><a class="reference internal" href="#phase-advance">Phase advance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rdts">RDTs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tune">Tune</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plotting/index.html">Plot-Subfunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tbt/index.html">Turn-by-Turn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tune_analysis/index.html">Tune Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">Utils</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">omc3</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Optics Measurements</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/optics_measurements/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-omc3.optics_measurements.measure_optics">
<span id="optics-measurements"></span><h1>Optics Measurements<a class="headerlink" href="#module-omc3.optics_measurements.measure_optics" title="Permalink to this headline">¶</a></h1>
<div class="section" id="measure-optics">
<h2>Measure optics<a class="headerlink" href="#measure-optics" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.measure_optics</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Lukas Malina</p>
</dd>
</dl>
<p>Computes various lattice optics parameters from frequency spectra</p>
<dl class="py class">
<dt id="omc3.optics_measurements.measure_optics.InputFiles">
<em class="property">class </em><code class="sig-prename descclassname">omc3.optics_measurements.measure_optics.</code><code class="sig-name descname">InputFiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files_to_analyse</span></em>, <em class="sig-param"><span class="n">optics_opt</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/measure_optics.html#InputFiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.measure_optics.InputFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the input files, provides methods to gather quantity specific data</p>
<dl class="simple">
<dt>Public methods:</dt><dd><p>get_dpps(plane)
get_joined_frame(plane, columns, zero_dpp=False, how=’inner’)
get_columns(frame, column)
get_data(frame, column)</p>
</dd>
</dl>
<dl class="py method">
<dt id="omc3.optics_measurements.measure_optics.InputFiles.dpps">
<code class="sig-name descname">dpps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/measure_optics.html#InputFiles.dpps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.measure_optics.InputFiles.dpps" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers measured DPPs from input files corresponding to given plane
:param plane: “X” or “Y”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>numpy array of DPPs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="omc3.optics_measurements.measure_optics.InputFiles.get_columns">
<em class="property">static </em><code class="sig-name descname">get_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">column</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/measure_optics.html#InputFiles.get_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.measure_optics.InputFiles.get_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of columns of frame corresponding to column in original files
:param frame: joined frame
:param column: name of column in original files</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="omc3.optics_measurements.measure_optics.InputFiles.get_data">
<code class="sig-name descname">get_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">column</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/measure_optics.html#InputFiles.get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.measure_optics.InputFiles.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data in columns of frame corresponding to column in original files
:param frame: joined frame
:param column: name of column in original files</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>data in numpy array corresponding to column in original files</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="omc3.optics_measurements.measure_optics.InputFiles.joined_frame">
<code class="sig-name descname">joined_frame</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plane</span></em>, <em class="sig-param"><span class="n">columns</span></em>, <em class="sig-param"><span class="n">dpp_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dpp_amp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">how</span><span class="o">=</span><span class="default_value">'inner'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/measure_optics.html#InputFiles.joined_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.measure_optics.InputFiles.joined_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs merged DataFrame from InputFiles
:param plane: “X” or “Y”
:param columns: list of columns from input files
:param dpp_value: merges only files with given dpp_value
:param dpp_amp: merges only files with non-zero dpp amplitude (i.e. 3Dkicks)
:param how: way of merging:  ‘inner’ (intersection) or ‘outer’ (union), default is ‘inner’</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>merged DataFrame from InputFiles</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.measure_optics.chromatic_beating">
<code class="sig-prename descclassname">omc3.optics_measurements.measure_optics.</code><code class="sig-name descname">chromatic_beating</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">measure_input</span></em>, <em class="sig-param"><span class="n">tune_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/measure_optics.html#chromatic_beating"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.measure_optics.chromatic_beating" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function to compute chromatic optics beating
:param tune_dict:
:param input_files: InputFiles object containing frequency spectra files (linx/y)
:param measure_input: OpticsInput object containing analysis settings</p>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.measure_optics.measure_optics">
<code class="sig-prename descclassname">omc3.optics_measurements.measure_optics.</code><code class="sig-name descname">measure_optics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">measure_input</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/measure_optics.html#measure_optics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.measure_optics.measure_optics" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function to compute various lattice optics parameters from frequency spectra
:param input_files: InputFiles object containing frequency spectra files (linx/y)
:param measure_input: OpticsInput object containing analysis settings</p>
<p>Returns:</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.beta_from_amplitude"></span><div class="section" id="beta-from-amplitude">
<h2>Beta from amplitude<a class="headerlink" href="#beta-from-amplitude" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.beta_from_amplitude</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Lukas Malina</p>
</dd>
</dl>
<p>Computes beta from amplitude.</p>
<dl class="py function">
<dt id="omc3.optics_measurements.beta_from_amplitude.calculate">
<code class="sig-prename descclassname">omc3.optics_measurements.beta_from_amplitude.</code><code class="sig-name descname">calculate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">tune_dict</span></em>, <em class="sig-param"><span class="n">beta_phase</span></em>, <em class="sig-param"><span class="n">header_dict</span></em>, <em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/beta_from_amplitude.html#calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.beta_from_amplitude.calculate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Calculates beta and fills the following TfsFiles:</dt><dd><p>f”{AMP_BETA_NAME}{plane.lower()}{EXT}”</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meas_input</strong> -- OpticsInput object</p></li>
<li><p><strong>input_files</strong> -- InputFiles object contains measurement files</p></li>
<li><p><strong>tune_dict</strong> -- TuneDict contains measured tunes</p></li>
<li><p><strong>beta_phase</strong> -- contains beta functions from measured from phase</p></li>
<li><p><strong>header_dict</strong> -- dictionary of header items common for all output files</p></li>
<li><p><strong>plane</strong> -- plane</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.beta_from_phase"></span><div class="section" id="beta-from-phase">
<h2>Beta from phase<a class="headerlink" href="#beta-from-phase" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.beta_from_phase</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Viktor Maier, Andreas Wegscheider, Lukas Malina</p>
</dd>
</dl>
<p>Computes betas and alphas from phase advances.</p>
<dl class="py function">
<dt id="omc3.optics_measurements.beta_from_phase.calculate">
<code class="sig-prename descclassname">omc3.optics_measurements.beta_from_phase.</code><code class="sig-name descname">calculate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">tunes</span></em>, <em class="sig-param"><span class="n">phase_dict</span></em>, <em class="sig-param"><span class="n">header_dict</span></em>, <em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/beta_from_phase.html#calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.beta_from_phase.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates betas and alphas from phase advances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meas_input</strong> -- OpticsInput object</p></li>
<li><p><strong>tunes</strong> -- TuneDict contains measured tunes</p></li>
<li><p><strong>phase_dict</strong> -- contains measured phase advances</p></li>
<li><p><strong>header_dict</strong> -- dictionary of header items common for all output files</p></li>
<li><p><strong>plane</strong> -- plane</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BetaDict object containing specific TfsDataFrames with results</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.beta_from_phase.calculate_beta_alpha_from_single_combination">
<code class="sig-prename descclassname">omc3.optics_measurements.beta_from_phase.</code><code class="sig-name descname">calculate_beta_alpha_from_single_combination</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span></em>, <em class="sig-param"><span class="n">sin_squared_elements</span></em>, <em class="sig-param"><span class="n">outer_elmts</span></em>, <em class="sig-param"><span class="n">cot_model</span></em>, <em class="sig-param"><span class="n">cot_meas</span></em>, <em class="sig-param"><span class="n">outer_meas_phase_adv</span></em>, <em class="sig-param"><span class="n">probed_bpm_name</span></em>, <em class="sig-param"><span class="n">betmdl1</span></em>, <em class="sig-param"><span class="n">alfmdl1</span></em>, <em class="sig-param"><span class="n">range_of_bpms</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/beta_from_phase.html#calculate_beta_alpha_from_single_combination"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.beta_from_phase.calculate_beta_alpha_from_single_combination" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates beta and alpha function as well as the respective covariance matrix lines for the
given BPM combination (triplet)
:param c: relative indices of other two BPMs wrt probed one
:param sin_squared_elements:
:param outer_elmts:
:param cot_model:
:param cot_meas:
:param outer_meas_phase_adv:
:param probed_bpm_name:
:param betmdl1:
:param alfmdl1:
:param range_of_bpms:</p>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.beta_from_phase.n_bpm_method">
<code class="sig-prename descclassname">omc3.optics_measurements.beta_from_phase.</code><code class="sig-name descname">n_bpm_method</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">phase</span></em>, <em class="sig-param"><span class="n">plane</span></em>, <em class="sig-param"><span class="n">meas_and_mdl_tunes</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/beta_from_phase.html#n_bpm_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.beta_from_phase.n_bpm_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates betas and alphas from using all BPM combination within range_of_bpms,
it also accounts for systematic errors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meas_input</strong> -- Optics measurement configuration object</p></li>
<li><p><strong>phase</strong> -- phase matrices of measurement with errors and model tfs (bpm x bpm)</p></li>
<li><p><strong>plane</strong> -- plane either X or Y</p></li>
<li><p><strong>meas_and_mdl_tunes</strong> -- measured and model tunes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tfs.DataFrame containing betas and alfas from phase</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.beta_from_phase.three_bpm_method">
<code class="sig-prename descclassname">omc3.optics_measurements.beta_from_phase.</code><code class="sig-name descname">three_bpm_method</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">phase</span></em>, <em class="sig-param"><span class="n">plane</span></em>, <em class="sig-param"><span class="n">meas_and_mdl_tunes</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/beta_from_phase.html#three_bpm_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.beta_from_phase.three_bpm_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates betas and alphas from using adjacent BPMs (3 combiantion)</p>
<p><code class="docutils literal notranslate"><span class="pre">phase[&quot;MEAS&quot;]</span></code>, <code class="docutils literal notranslate"><span class="pre">phase[&quot;MODEL&quot;]</span></code>, <code class="docutils literal notranslate"><span class="pre">phase[&quot;ERRMEAS&quot;]</span></code> (from <code class="docutils literal notranslate"><span class="pre">get_phases</span></code>) are of the
form:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>BPM1</p></td>
<td><p>BPM2</p></td>
<td><p>BPM3</p></td>
<td><p>BPM4</p></td>
</tr>
<tr class="row-even"><td><p>BPM1</p></td>
<td><p>0</p></td>
<td><p>phi_21</p></td>
<td><p>phi_31</p></td>
<td><p>phi_41</p></td>
</tr>
<tr class="row-odd"><td><p>BPM2</p></td>
<td><p>phi_12</p></td>
<td><p>0</p></td>
<td><p>phi_32</p></td>
<td><p>phi_42</p></td>
</tr>
<tr class="row-even"><td><p>BPM3</p></td>
<td><p>phi_13</p></td>
<td><p>phi_23</p></td>
<td><p>0</p></td>
<td><p>phi_43</p></td>
</tr>
</tbody>
</table>
<p>aa <code class="docutils literal notranslate"><span class="pre">tilt_slice_matrix(matrix,</span> <span class="pre">shift,</span> <span class="pre">slice,</span> <span class="pre">tune)</span></code> brings it into the form:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>BPM1</p></td>
<td><p>BPM2</p></td>
<td><p>BPM3</p></td>
<td><p>BPM4</p></td>
</tr>
<tr class="row-even"><td><p>BPM_(i-1)</p></td>
<td><p>phi_1n</p></td>
<td><p>phi_21</p></td>
<td><p>phi_32</p></td>
<td><p>phi_43</p></td>
</tr>
<tr class="row-odd"><td><p>BPM_i</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>BPM_(i+1)</p></td>
<td><p>phi_12</p></td>
<td><p>phi_23</p></td>
<td><p>phi_34</p></td>
<td><p>phi_45</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">cot_phase_*_shift1</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cot(phi_1n) - cot(phi_1n-1)</p></td>
<td><p>cot(phi_21) - cot(phi_2n)</p></td>
<td><p>cot(phi_32) - cot(phi_31)</p></td>
</tr>
<tr class="row-even"><td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
</tr>
<tr class="row-odd"><td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
</tr>
<tr class="row-even"><td><p>cot(phi_13) - cot(phi_12)</p></td>
<td><p>cot(phi_24) - cot(phi_23)</p></td>
<td><p>cot(phi_35) - cot(phi_34)</p></td>
</tr>
</tbody>
</table>
<p>for the combination xxxABBx: first row
for the combinstion xBBAxxx: fourth row and
for the combination xxBABxx: second row of <code class="docutils literal notranslate"><span class="pre">cot_phase_*_shift2</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meas_input</strong> -- Optics measurement configuration object</p></li>
<li><p><strong>phase</strong> -- phase matrices of measurement with errors and model tfs (bpm x bpm)</p></li>
<li><p><strong>plane</strong> -- plane either X or Y</p></li>
<li><p><strong>meas_and_mdl_tunes</strong> -- measured  and model tunes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tfs.DataFrame containing betas and alfas from phase</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.chromatic"></span><div class="section" id="chromatic">
<h2>Chromatic<a class="headerlink" href="#chromatic" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.chromatic</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Lukas Malina</p>
</dd>
</dl>
<p>Computes various chromatic beam properties</p>
</div>
<span class="target" id="module-omc3.optics_measurements.dispersion"></span><div class="section" id="dispersion">
<h2>Dispersion<a class="headerlink" href="#dispersion" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.dispersion</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Lukas Malina</p>
</dd>
</dl>
<p>Computes orbit, dispersion and normalised dispersion.</p>
<dl class="py function">
<dt id="omc3.optics_measurements.dispersion.calculate_dispersion">
<code class="sig-prename descclassname">omc3.optics_measurements.dispersion.</code><code class="sig-name descname">calculate_dispersion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">header_dict</span></em>, <em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/dispersion.html#calculate_dispersion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.dispersion.calculate_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates dispersion.
:param meas_input: Optics_input object
:param input_files: Stores the input files tfs
:param header_dict: OrderedDict containing information about the analysis
:param plane: “X” or “Y”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TfsDataFrame corresponding to output file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.dispersion.calculate_normalised_dispersion">
<code class="sig-prename descclassname">omc3.optics_measurements.dispersion.</code><code class="sig-name descname">calculate_normalised_dispersion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">beta</span></em>, <em class="sig-param"><span class="n">header_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/dispersion.html#calculate_normalised_dispersion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.dispersion.calculate_normalised_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates normalised dispersion.
:param meas_input: Optics_input object
:param input_files: Stores the input files tfs
:param beta: measured betas to get dispersion from normalised dispersion
:param header_dict: OrderedDict containing information about the analysis</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TfsDataFrame corresponding to output file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.dispersion.calculate_orbit">
<code class="sig-prename descclassname">omc3.optics_measurements.dispersion.</code><code class="sig-name descname">calculate_orbit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">header</span></em>, <em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/dispersion.html#calculate_orbit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.dispersion.calculate_orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates orbit.
:param meas_input: Optics_input object
:param input_files: Stores the input files tfs
:param header: OrderedDict containing information about the analysis
:param plane: “X” or “Y”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TfsDataFrame corresponding to output file</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.dpp"></span><div class="section" id="dpp">
<h2>Dpp<a class="headerlink" href="#dpp" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.dpp</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Elena Fol, Lukas Malina</p>
</dd>
</dl>
<p>Computes and arranges dp over p</p>
<dl class="py function">
<dt id="omc3.optics_measurements.dpp.arrange_dpps">
<code class="sig-prename descclassname">omc3.optics_measurements.dpp.</code><code class="sig-name descname">arrange_dpps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dpps</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/dpp.html#arrange_dpps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.dpp.arrange_dpps" title="Permalink to this definition">¶</a></dt>
<dd><p>Grouping of dpp-values and averaging them in the bins, also zeroes the bin closest to zero</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.iforest"></span><div class="section" id="isolation-forest">
<h2>Isolation forest<a class="headerlink" href="#isolation-forest" title="Permalink to this headline">¶</a></h2>
<p>Detects and excludes BPMs with anomalies.</p>
</div>
<span class="target" id="module-omc3.optics_measurements.interaction_point"></span><div class="section" id="ip">
<h2>IP<a class="headerlink" href="#ip" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.interaction_point</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Jaime Coello de Portugal</p>
</dd>
</dl>
<p>Computes beta* from phase.</p>
<dl class="py function">
<dt id="omc3.optics_measurements.interaction_point.betastar_from_phase">
<code class="sig-prename descclassname">omc3.optics_measurements.interaction_point.</code><code class="sig-name descname">betastar_from_phase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">phase_d</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/interaction_point.html#betastar_from_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.interaction_point.betastar_from_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the getIP files with the betastar computed using phase advance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meas_input</strong> -- Measurement_input object</p></li>
<li><p><strong>phase_d</strong> -- Output of calculation</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A nested dict with the same structure as the phase_d dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.interaction_point.phase_to_betastar">
<code class="sig-prename descclassname">omc3.optics_measurements.interaction_point.</code><code class="sig-name descname">phase_to_betastar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lstar</span></em>, <em class="sig-param"><span class="n">phase</span></em>, <em class="sig-param"><span class="n">errphase</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/interaction_point.html#phase_to_betastar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.interaction_point.phase_to_betastar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the betastar and its error given the phase advance across the IP.</p>
<p>This function computes the betastar using the phase advance between the
BPMs around the IP and their distance (lstar). The phase and error in the
phase must be given in radians.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lstar</strong> -- The distance between the BPMs and the IR.</p></li>
<li><p><strong>phase</strong> -- The phase advance between the BPMs at each side of the IP. Must
be given in radians.</p></li>
<li><p><strong>errphase</strong> -- The error in phase. Must be given in radians.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.kick"></span><div class="section" id="kick">
<h2>Kick<a class="headerlink" href="#kick" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.kick</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Lukas Malina</p>
</dd>
</dl>
<p>Computes kick actions.</p>
<dl class="py function">
<dt id="omc3.optics_measurements.kick.calculate">
<code class="sig-prename descclassname">omc3.optics_measurements.kick.</code><code class="sig-name descname">calculate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">measure_input</span></em>, <em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">scale</span></em>, <em class="sig-param"><span class="n">header_dict</span></em>, <em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/kick.html#calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.kick.calculate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measure_input</strong> -- Optics_input object</p></li>
<li><p><strong>input_files</strong> -- Stores the input files tfs</p></li>
<li><p><strong>scale</strong> -- measured beta functions</p></li>
<li><p><strong>header_dict</strong> -- OrderedDict containing information about the analysis</p></li>
<li><p><strong>plane</strong> -- “X” or “Y”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing actions and their errors</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.phase"></span><div class="section" id="phase-advance">
<h2>Phase advance<a class="headerlink" href="#phase-advance" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.phase</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Lukas Malina</p>
</dd>
</dl>
<p>Computes betatron phase advances and provides structures to store them.</p>
<dl class="py function">
<dt id="omc3.optics_measurements.phase.calculate">
<code class="sig-prename descclassname">omc3.optics_measurements.phase.</code><code class="sig-name descname">calculate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meas_input</span></em>, <em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">tunes</span></em>, <em class="sig-param"><span class="n">plane</span></em>, <em class="sig-param"><span class="n">no_errors</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/phase.html#calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.phase.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates phase advances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meas_input</strong> -- the input object including settings and the accelerator class</p></li>
<li><p><strong>input_files</strong> -- includes measurement tfs</p></li>
<li><p><strong>tunes</strong> -- TunesDict object containing measured and model tunes and ac2bpm object</p></li>
<li><p><strong>plane</strong> -- “X” or “Y”</p></li>
<li><p><strong>no_errors</strong> -- if True measured errors shall not be propagated (only their spread)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>dictionary of DataFrames indexed (BPMi x BPMj) yielding phase advance phi_ij</p>
<blockquote>
<div><ul class="simple">
<li><p>”MEAS” measured phase advances</p></li>
<li><p>”ERRMEAS” errors of measured phase advances</p></li>
<li><p>”MODEL” model phase advances</p></li>
</ul>
</div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 0%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
<th class="head"><p>BPM1</p></th>
<th class="head"><p>BPM2</p></th>
<th class="head"><p>BPM3</p></th>
<th class="head"><p>BPM4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BPM1</p></td>
<td></td>
<td><p>0</p></td>
<td><p>phi_12</p></td>
<td><p>phi_13</p></td>
<td><p>phi_14</p></td>
</tr>
<tr class="row-odd"><td><p>BPM2</p></td>
<td></td>
<td><p>phi_21</p></td>
<td><p>0</p></td>
<td><p>phi_23</p></td>
<td><p>phi_24</p></td>
</tr>
<tr class="row-even"><td><p>BPM3</p></td>
<td></td>
<td><p>phi_31</p></td>
<td><p>phi_32</p></td>
<td><p>0</p></td>
<td><p>phi_34</p></td>
</tr>
<tr class="row-odd"><td><p>BPM4</p></td>
<td></td>
<td><p>phi_41</p></td>
<td><p>phi_42</p></td>
<td><p>phi_43</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
<p>The phase advance between BPM_i and BPM_j can be obtained via:
phase_advances[“MEAS”].loc[BPMi,BPMj]
list of output data frames(for files)</p>
</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.rdt"></span><div class="section" id="rdts">
<h2>RDTs<a class="headerlink" href="#rdts" title="Permalink to this headline">¶</a></h2>
<p>Computes global resonance driving terms f_jklm.</p>
<dl class="py function">
<dt id="omc3.optics_measurements.rdt.calculate">
<code class="sig-prename descclassname">omc3.optics_measurements.rdt.</code><code class="sig-name descname">calculate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">measure_input</span></em>, <em class="sig-param"><span class="n">input_files</span></em>, <em class="sig-param"><span class="n">tunes</span></em>, <em class="sig-param"><span class="n">invariants</span></em>, <em class="sig-param"><span class="n">header</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/rdt.html#calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.rdt.calculate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measure_input</strong> -- </p></li>
<li><p><strong>input_files</strong> -- </p></li>
<li><p><strong>tunes</strong> -- </p></li>
<li><p><strong>invariants</strong> -- </p></li>
<li><p><strong>header</strong> -- </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.rdt.complex_secondary_lines">
<code class="sig-prename descclassname">omc3.optics_measurements.rdt.</code><code class="sig-name descname">complex_secondary_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">phase_adv</span></em>, <em class="sig-param"><span class="n">err_padv</span></em>, <em class="sig-param"><span class="n">sig1</span></em>, <em class="sig-param"><span class="n">sig2</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/rdt.html#complex_secondary_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.rdt.complex_secondary_lines" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase_adv</strong> -- phase advances between two BPMs</p></li>
<li><p><strong>err_padv</strong> -- error on the phase advance between two BPMs</p></li>
<li><p><strong>sig1</strong> -- Complex coefficients of a secondary lines at the first BPM of the pairs</p></li>
<li><p><strong>sig2</strong> -- Complex coefficients of a secondary lines at the second BPM of the pairs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>amplitudes, phases err_amplitudes and err_phases of the complex signal</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="omc3.optics_measurements.rdt.get_linearized_problem">
<code class="sig-prename descclassname">omc3.optics_measurements.rdt.</code><code class="sig-name descname">get_linearized_problem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">invs</span></em>, <em class="sig-param"><span class="n">plane</span></em>, <em class="sig-param"><span class="n">rdt</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/rdt.html#get_linearized_problem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.rdt.get_linearized_problem" title="Permalink to this definition">¶</a></dt>
<dd><p>2 * j * f_jklm * (powers of 2Jx and 2Jy) : f_jklm is later a parameter of a fit
we use sqrt(2J): unit is sqrt(m)</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.optics_measurements.tune"></span><div class="section" id="tune">
<h2>Tune<a class="headerlink" href="#tune" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">module</dt>
<dd class="field-odd"><p>optics_measurements.tune</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>Lukas Malina</p>
</dd>
</dl>
<p>Computes betatron tunes and provides structures to store them.</p>
<dl class="py class">
<dt id="omc3.optics_measurements.tune.TuneDict">
<em class="property">class </em><code class="sig-prename descclassname">omc3.optics_measurements.tune.</code><code class="sig-name descname">TuneDict</code><a class="reference internal" href="../_modules/omc3/optics_measurements/tune.html#TuneDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.tune.TuneDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Data structure to hold tunes</p>
<dl class="py method">
<dt id="omc3.optics_measurements.tune.TuneDict.get_lambda">
<code class="sig-name descname">get_lambda</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/tune.html#TuneDict.get_lambda"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.tune.TuneDict.get_lambda" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes lambda compensation factor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>plane</strong> -- X or Y</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lambda compensation factor (driven vs free motion)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="omc3.optics_measurements.tune.TuneDict.phase_ac2bpm">
<code class="sig-name descname">phase_ac2bpm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_idx_by_bpms</span></em>, <em class="sig-param"><span class="n">plane</span></em>, <em class="sig-param"><span class="n">accelerator</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/optics_measurements/tune.html#TuneDict.phase_ac2bpm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.optics_measurements.tune.TuneDict.phase_ac2bpm" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the necessary values for the exciter compensation.</p>
<p>See: doi:10.1103/PhysRevSTAB.11.084002</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_idx_by_bpms</strong> (<em>pandas.DataFrame</em>) -- commonbpms (see GetLLM._get_commonbpms)</p></li>
<li><p><strong>plane</strong> (<em>char</em>) -- X,Y</p></li>
<li><p><strong>accelerator</strong> -- accelerator class instance.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns tupel(a,b,c,d):</dt><dd><p>a (string): name of the nearest BPM.
b (float): compensated phase advance between the exciter and the nearest BPM.
c (int): k of the nearest BPM.
d (string): name of the exciter element.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../plotting/index.html" class="btn btn-neutral float-right" title="Plot-Subfunctions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../model/index.html" class="btn btn-neutral float-left" title="Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>