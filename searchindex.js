Search.setIndex({"docnames": ["entrypoints/analysis", "entrypoints/correction", "entrypoints/other", "entrypoints/plotting", "entrypoints/scripts", "index", "modules/correction", "modules/definitions", "modules/harpy", "modules/kmod", "modules/model", "modules/optics_measurements", "modules/plotting", "modules/tbt", "modules/tune_analysis", "modules/utils"], "filenames": ["entrypoints/analysis.rst", "entrypoints/correction.rst", "entrypoints/other.rst", "entrypoints/plotting.rst", "entrypoints/scripts.rst", "index.rst", "modules/correction.rst", "modules/definitions.rst", "modules/harpy.rst", "modules/kmod.rst", "modules/model.rst", "modules/optics_measurements.rst", "modules/plotting.rst", "modules/tbt.rst", "modules/tune_analysis.rst", "modules/utils.rst"], "titles": ["Analysis", "Correction", "Other", "Plotting", "Scripts", "Welcome to omc3\u2019s documentation!", "Correction", "Definitions", "Harpy", "Kmod", "Model", "Optics Measurements", "Plot-Subfunctions", "Turn-by-Turn", "Tune Analysis", "Utils"], "terms": {"hole_in_on": [0, 4], "i": [0, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 14, 15], "top": [0, 2, 3, 12], "level": [0, 2, 6, 8, 10, 11, 15], "script": [0, 2, 5, 7, 10, 15], "function": [0, 3, 4, 6, 8, 9, 10, 11, 14, 15], "offer": 0, "omc3": [0, 1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15], "In": [0, 3, 4, 5, 6, 11], "most": [0, 4, 6, 8, 10, 11], "your": [0, 3, 14], "us": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15], "case": [0, 3, 4, 6, 8, 11, 15], "thi": [0, 3, 4, 6, 8, 9, 10, 11, 12, 14, 15], "file": [0, 1, 2, 3, 6, 7, 10, 11, 12, 15], "you": [0, 1, 4, 12, 15], "want": [0, 1], "call": [0, 6, 7, 10, 15], "It": [0, 4, 5, 8, 9, 10, 11, 14, 15], "handl": [0, 6, 8, 10, 12, 14, 15], "frequenc": [0, 3, 4, 5, 11], "spectra": [0, 3, 8, 11], "turn": [0, 2, 5, 8], "bpm": [0, 1, 3, 4, 6, 8, 10, 11, 12], "data": [0, 1, 3, 4, 5, 6, 8, 9, 10, 11, 12, 14, 15], "variou": [0, 2, 5, 11, 15], "lattic": [0, 6, 11], "optic": [0, 4, 5, 6, 10, 14], "paramet": [0, 1, 2, 3, 4, 6, 8, 10, 11, 12, 14, 15], "from": [0, 1, 2, 3, 6, 7, 8, 9, 10, 12, 14, 15], "A": [0, 1, 3, 4, 6, 8, 10, 11, 14, 15], "gener": [0, 1, 4, 6, 7, 10], "workflow": 0, "straight": [0, 4], "out": [0, 4], "measur": [0, 1, 5, 6, 14, 15], "simul": 0, "result": [0, 5, 6, 8, 11, 14, 15], "goe": [0, 3], "follow": [0, 4, 6, 8, 11, 12, 14], "The": [0, 1, 3, 4, 6, 8, 10, 11, 12, 14, 15], "first": [0, 3, 6, 9, 11, 14], "step": 0, "abov": [0, 6], "consist": [0, 5, 6, 7, 8, 9, 10, 11, 14], "perform": [0, 1, 4, 6, 9, 11], "harpi": [0, 4, 5], "while": [0, 3, 4], "second": [0, 3, 11], "one": [0, 1, 3, 4, 6, 10, 11, 12], "measure_opt": [0, 11], "each": [0, 1, 3, 4, 6, 11], "correspond": [0, 1, 4, 9, 11], "stage": 0, "repres": [0, 10], "differ": [0, 3, 4, 6, 9, 11, 12, 14, 15], "set": [0, 1, 2, 3, 4, 6, 8, 10, 11, 12, 15], "sdd": [0, 2], "tf": [0, 4, 6, 11, 12], "lin": [0, 3, 12], "xy": [0, 3, 4, 14], "To": [0, 1, 12, 14, 15], "either": [0, 1, 3, 4, 6, 12, 14], "two": [0, 1, 3, 4, 6, 11, 15], "both": [0, 3, 4, 6, 12, 14], "see": [0, 1, 3, 4, 6, 10, 11, 12, 14, 15], "option": [0, 1, 2, 3, 4, 6, 10, 12, 14, 15], "hole_in_one_entrypoint": 0, "opt": [0, 1, 2, 3, 4, 6, 10, 12, 15], "rest": [0, 10], "sourc": [0, 1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15], "kwarg": [0, 2, 3, 10, 12, 15], "flag": [0, 2, 3, 4, 10], "action": [0, 1, 3, 4, 10, 11, 14], "store_tru": [0, 1, 3, 4, 10], "tbt": [0, 3, 4, 8], "analys": [0, 3, 8], "requir": [0, 1, 2, 3, 4, 8, 10, 14], "true": [0, 2, 3, 4, 6, 10, 12, 14, 15], "outputdir": [0, 2, 4], "output": [0, 1, 2, 3, 6, 11, 12, 14, 15], "directori": [0, 1, 2, 3, 4, 6, 10, 15], "to_writ": 0, "choos": [0, 2, 3], "type": [0, 2, 3, 8, 10, 14, 15], "choic": [0, 1, 2, 3, 4, 10], "full_spectra": 0, "bpm_summari": 0, "default": [0, 1, 2, 3, 4, 6, 7, 8, 10, 11, 12, 14, 15], "int": [0, 1, 2, 3, 4, 6, 10, 11, 12, 14, 15], "index": [0, 5, 6, 8, 12, 14, 15], "start": [0, 14], "ignor": [0, 4], "0": [0, 1, 3, 4, 6, 9, 10, 11, 12, 14, 15], "50000": 0, "unit": [0, 3, 4, 11, 14], "str": [0, 1, 2, 3, 4, 6, 10, 11, 12, 14, 15], "orbit": [0, 3, 4, 6, 11], "all": [0, 1, 2, 3, 4, 6, 7, 10, 11, 12, 15], "cut": [0, 1, 8, 14], "ar": [0, 1, 3, 4, 6, 7, 8, 10, 11, 12, 14, 15], "m": [0, 3, 6, 8, 11, 14], "cm": 0, "mm": [0, 3], "um": [0, 3, 14], "tbt_datatyp": [0, 2], "datatyp": [0, 2], "which": [0, 1, 2, 3, 4, 6, 8, 10, 12, 14, 15], "import": [0, 2, 3, 4, 14, 15], "e": [0, 1, 2, 3, 4, 6, 9, 10, 11, 12, 14, 15], "g": [0, 1, 2, 3, 4, 6, 15], "lhc": [0, 2, 3, 14, 15], "binari": [0, 1, 2], "numpi": [0, 1], "npz": 0, "clean": [0, 3, 9, 14], "If": [0, 1, 2, 3, 4, 6, 10, 12, 15], "present": [0, 4, 8, 15], "bad_bpm": 0, "bad": [0, 8], "first_bpm": 0, "resynchronis": 0, "model": [0, 1, 3, 5, 8, 9, 11, 14], "keep_exact_zero": 0, "remov": [0, 3, 4, 6, 8, 12, 15], "exact": 0, "zero": [0, 1, 8, 11, 12, 14, 15], "max_peak": 0, "float": [0, 1, 2, 3, 4, 6, 10, 11, 12, 14, 15], "where": [0, 1, 2, 3, 4, 6, 8, 12, 14], "maximum": [0, 1, 14, 15], "limit": [0, 3, 4, 8, 12, 14, 15], "02": [0, 12], "locat": [0, 3, 4, 8, 9, 10, 11, 12], "num_svd_iter": 0, "maxim": [0, 8], "number": [0, 1, 2, 3, 4, 6, 8, 12, 14, 15], "iter": [0, 1, 4, 6, 8, 10, 12, 15], "u": [0, 8], "matrix": [0, 1, 8, 11], "element": [0, 2, 4, 6, 8, 10, 11, 15], "renormalis": [0, 8], "svd": [0, 1, 8], "domin": [0, 8], "also": [0, 3, 4, 6, 7, 8, 10, 11, 12, 14], "equal": [0, 4, 12], "per": [0, 1, 3, 4, 8, 12], "mode": [0, 12, 15], "3": [0, 1, 3, 6, 10, 11, 14], "opposite_direct": 0, "beam": [0, 1, 4, 5, 6, 10, 11, 14], "opposit": 0, "direct": 0, "assum": [0, 4, 8, 14], "peak_to_peak": 0, "peak": [0, 4], "ab": [0, 6], "max": [0, 3, 6, 12, 14], "valu": [0, 1, 3, 4, 6, 8, 11, 12, 14, 15], "min": [0, 3, 6, 14], "threshold": 0, "1e": [0, 3], "08": 0, "sing_val": 0, "keep": [0, 4, 12], "amount": [0, 12], "largest": [0, 8], "singular": [0, 1, 8], "12": 0, "svd_dominance_limit": 0, "singl": [0, 1, 3, 4, 8, 12], "925": 0, "wrong_polarity_bpm": 0, "swap": 0, "polar": 0, "plane": [0, 3, 4, 8, 9, 10, 11, 12, 14], "autotun": 0, "main": [0, 3, 4, 6, 8, 11, 12, 15], "tune": [0, 1, 3, 5, 6, 8, 9, 10], "guess": 0, "strongest": 0, "line": [0, 3, 4, 8, 11], "sv": [0, 8], "t": [0, 3, 7, 8, 15], "spectrum": [0, 4], "synchrotron": 0, "below": [0, 1, 3], "03": 0, "betatron": [0, 11], "transvers": [0, 4, 11], "is_free_kick": 0, "free": [0, 11], "kick": [0, 3], "phase": [0, 3, 4, 6, 8, 9], "correct": [0, 3, 5, 8, 10, 14, 15], "free_kick": 0, "natdelta": 0, "offset": [0, 12, 14], "natur": [0, 3, 10, 14], "driven": [0, 10, 11], "x": [0, 1, 3, 5, 8, 10, 11, 12, 14, 15], "y": [0, 3, 4, 6, 8, 10, 11, 12, 14], "z": [0, 4, 6, 8], "disabl": 0, "when": [0, 3, 10, 14, 15], "nattun": [0, 4], "output_bit": 0, "complex": [0, 3, 8, 11, 14, 15], "coeffici": [0, 8, 11, 14], "pair": [0, 11], "up": [0, 3, 8, 15], "2": [0, 3, 4, 6, 10, 11, 12, 14, 15], "full": [0, 6], "There": [0, 1], "interv": [0, 3, 4, 8], "size": [0, 8, 12, 14, 15], "1": [0, 1, 2, 3, 4, 6, 9, 10, 11, 12, 14, 15], "toler": [0, 8], "specifi": [0, 1, 3, 8, 10, 14, 15], "an": [0, 1, 3, 4, 6, 8, 9, 10, 11, 12, 15], "domain": [0, 8], "look": [0, 4, 8, 10, 15], "01": [0, 1], "tune_clean_limit": [0, 8], "wont": 0, "becaus": 0, "outlier": [0, 4, 8, 14], "closer": 0, "averag": [0, 2, 3, 4, 8, 9, 11, 14, 15], "than": [0, 1, 4, 8, 14, 15], "05": [0, 1, 6], "tunez": 0, "turn_bit": 0, "calcul": [0, 1, 3, 4, 6, 8, 9, 11, 12, 14, 15], "between": [0, 1, 3, 4, 6, 10, 11, 14, 15], "neighbour": 0, "20": [0, 6, 15], "window": [0, 8, 14], "rectangl": [0, 8], "welch": [0, 8], "triangl": [0, 8], "hann": [0, 8], "ham": [0, 8], "nuttal3": [0, 8], "nuttal4": [0, 8], "reson": [0, 3, 8], "magnet": [0, 6, 10], "order": [0, 1, 3, 4, 6, 8, 12, 14], "n": [0, 4, 8, 9], "8": [0, 6, 15], "4": [0, 3, 6, 10, 14], "calibrationdir": 0, "path": [0, 1, 2, 3, 4, 6, 10, 12, 14, 15], "calibr": 0, "chromatic_b": [0, 11], "chromat": [0, 6, 10], "beat": [0, 4, 6, 11], "w": [0, 1, 15], "phi": [0, 6], "coupl": [0, 4, 6, 14], "compens": [0, 4, 11], "after": [0, 1, 4, 10], "excit": [0, 10, 11], "equat": [0, 1, 4, 6], "none": [0, 1, 2, 3, 4, 6, 8, 10, 11, 12, 14, 15], "coupling_method": 0, "method": [0, 1, 5, 10, 11, 12, 15], "coupling_pair": 0, "given": [0, 1, 2, 3, 4, 6, 8, 10, 11, 12, 14, 15], "try": [0, 15], "determin": [0, 15], "best": [0, 14], "candid": 0, "some": [0, 1, 4, 11], "skip": [0, 6], "th": 0, "downstream": 0, "nonlinear": 0, "higher": [0, 1, 8], "rdt": [0, 3, 4, 6], "crdt": 0, "rdt_magnet_ord": 0, "only_coupl": 0, "onli": [0, 1, 2, 3, 4, 6, 11, 12, 14, 15], "range_of_bpm": [0, 11], "rang": [0, 10], "beta": [0, 1, 3, 4, 6, 9, 14], "5": [0, 3, 4, 6, 11, 12, 14, 15], "7": [0, 6, 15], "9": 0, "11": [0, 11], "13": 0, "15": [0, 6], "three_bpm_method": [0, 11], "three_d_excit": 0, "3d": [0, 3, 12], "dispers": [0, 4, 6], "isolation_forest": 0, "outli": 0, "isol": [0, 4], "forest": [0, 4], "second_order_dispers": 0, "union": [0, 3, 4, 11, 12, 14, 15], "advanc": [0, 3, 4, 6, 12], "least": [0, 3, 4], "valid": [0, 6], "instead": [0, 3, 6, 15], "intersect": [0, 11], "acceler": [0, 1, 2, 4, 5, 6, 11, 15], "accel": [0, 2, 10], "more": [0, 6, 10, 12, 15], "detail": [0, 6], "can": [0, 1, 2, 3, 4, 6, 8, 12, 14, 15], "found": [0, 3, 4, 6, 8, 12], "manag": [0, 2, 6, 8, 11, 12, 15], "py": [0, 2, 4, 14, 15], "model_dir": [0, 6, 10], "For": [0, 1, 6, 15], "pleas": [0, 14], "get_paramet": 0, "child": 0, "class": [0, 1, 2, 3, 6, 10, 11, 12, 14, 15], "declar": [0, 15], "entrypoint": [0, 2, 4, 10], "modul": [0, 6, 8, 9, 10, 11, 12, 14, 15], "provid": [0, 1, 2, 3, 4, 6, 8, 9, 10, 11, 14, 15], "addition": 0, "get": [0, 3, 4, 6, 8, 9, 10, 11, 12, 14, 15], "bbq": [0, 15], "timber": [0, 3], "filter": [0, 3, 12, 14, 15], "subtract": [0, 15], "furthermor": [0, 1], "orthogon": 0, "distanc": [0, 1, 8, 10, 11], "regress": 0, "util": [0, 5, 6], "linear": [0, 6, 14, 15], "quadrat": [0, 3, 14], "fit": [0, 3, 6, 11, 15], "argument": [0, 1, 3, 4, 12], "pathorstr": [0, 4, 15], "parent": [0, 10], "folder": [0, 3, 4, 6], "bbq_filtering_method": 0, "around": [0, 4, 8, 11, 15], "minmax": 0, "let": [0, 12, 15], "bbq_in": 0, "unionpathstrint": [0, 15], "fill": [0, 3, 11, 14], "desir": [0, 6, 10, 15], "extract": [0, 3, 6], "presav": 0, "string": [0, 2, 6, 10, 11, 12, 14, 15], "timestamp": [0, 14, 15], "kickfil": 0, "Not": [0, 2], "give": [0, 3, 14, 15], "detuning_ord": [0, 3], "basic": [0, 3, 10], "just": [0, 3, 12], "appli": [0, 1, 3, 6, 10], "fine_cut": [0, 14], "fine": [0, 14], "fine_window": [0, 14], "length": [0, 3, 8, 14, 15], "move": [0, 12, 14], "point": [0, 1, 4, 14, 15], "label": [0, 3, 12, 14], "identifi": [0, 1, 12], "outlier_limit": 0, "0002": 0, "modifi": [0, 10], "tune_cut": 0, "tunes_minmax": 0, "minima": 0, "maxima": 0, "x_min": 0, "x_max": 0, "y_min": 0, "y_max": 0, "window_length": 0, "amplitude_detuning_analysi": 0, "analyse_with_bbq_correct": 0, "dotdict": [0, 1, 4, 6, 12], "tupl": [0, 3, 4, 6, 8, 10, 11, 12, 14, 15], "tfsdatafram": [0, 4, 6, 8, 11, 14], "creat": [0, 1, 2, 4, 6, 9, 10, 12, 14, 15], "return": [0, 2, 3, 4, 6, 8, 10, 11, 12, 14, 15], "double_action_analysi": 0, "kick_df": [0, 14], "bool": [0, 2, 3, 4, 10, 12, 14, 15], "fals": [0, 2, 3, 4, 10, 11, 12, 14, 15], "2d": [0, 14], "4d": 0, "get_approx_bbq_interv": 0, "bbq_df": [0, 14], "time_arrai": 0, "sequenc": [0, 3, 4, 10, 12, 14, 15], "cerndatetim": [0, 14, 15], "approxim": 0, "end": [0, 3, 4, 6, 14, 15], "time": [0, 1, 6, 7, 14], "base": [0, 1, 4, 6, 8, 15], "get_kick_and_bbq_df": 0, "filter_opt": [0, 14], "load": [0, 1, 3, 4, 6, 9, 10, 12, 14], "input": [0, 1, 2, 3, 4, 6, 8, 10, 11, 12, 15], "single_action_analysi": 0, "kick_plan": 0, "pane": 0, "gui": 0, "plot": [0, 5, 9, 14], "well": [0, 3, 4, 5, 10, 11, 12, 14, 15], "star": 0, "waist": 0, "shift": [0, 11, 14], "run_kmod": 0, "analyse_kmod": 0, "keyword": [0, 2, 10], "defin": [0, 1, 3, 4, 6, 7, 10, 12, 14, 15], "betastar_and_waist": 0, "estim": [0, 4, 8, 15], "working_directori": 0, "work": [0, 2, 3, 6, 12, 15], "store": [0, 4, 6, 11, 14], "circuit": 0, "name": [0, 1, 2, 3, 4, 6, 8, 10, 11, 12, 14, 15], "quadrupol": [0, 9], "cminu": 0, "c": [0, 11], "minu": 0, "errork": 0, "error": [0, 1, 3, 4, 6, 9, 11, 12, 14, 15], "k": [0, 4, 6, 8, 9, 11], "rel": [0, 4, 11], "gradient": 0, "errorl": 0, "instrument": 0, "twiss": [0, 1, 2, 4, 9, 10], "should": [0, 1, 3, 4, 10, 12, 14, 15], "separ": [0, 1, 3, 4], "comma": 0, "monitor": 0, "rbend": 0, "tkicker": 0, "sbend": 0, "interaction_point": [0, 11], "interact": [0, 12], "ip1": [0, 4], "ip2": 0, "ip5": [0, 4], "ip8": 0, "log": [0, 2, 4], "measurement_dir": 0, "includ": [0, 4, 12, 15], "constraint": 0, "penalti": 0, "misalign": 0, "contain": [0, 1, 2, 3, 6, 8, 9, 10, 11, 12, 14, 15], "no_autoclean": 0, "manual": [0, 1, 3, 4, 12], "no_plot": 0, "ani": [0, 3, 10, 12, 14, 15], "no_sig_digit": 0, "signific": [0, 12], "digit": 0, "outputfil": 0, "phase_weight": 0, "weight": [0, 1, 6, 15], "enabl": 0, "tune_uncertainti": 0, "uncertainti": 0, "5e": 0, "scheme": [1, 6], "matric": [1, 6, 8, 11], "r_": 1, "o": 1, "observ": [1, 6], "bbx": 1, "phasex": [1, 4], "cdot": [1, 4, 6], "delta": [1, 3, 6, 9, 10, 12], "var": 1, "o_": 1, "mea": [1, 6, 11], "being": [1, 4], "solv": 1, "via": [1, 4, 6, 14, 15], "chosen": [1, 3], "moment": [1, 4, 14], "pinv": 1, "pseudo": [1, 4], "invers": 1, "herebi": [1, 4], "merg": [1, 3, 6, 11], "same": [1, 3, 4, 11, 14, 15], "normal": [1, 4, 6, 15], "anoth": [1, 15], "weigth": 1, "errorcut": [1, 6], "errorbar": 1, "modelcut": [1, 6], "outsid": [1, 4, 12, 15], "those": [1, 3, 6, 15], "discard": 1, "These": [1, 3, 10, 14], "variabl": [1, 6, 10, 14], "chang": [1, 3, 9, 12, 15], "recalcul": 1, "mad": [1, 5, 10], "again": 1, "split": [1, 3, 6], "former": 1, "list": [1, 3, 4, 6, 8, 10, 11, 12, 14, 15], "latter": 1, "depend": [1, 3, 4, 14], "check": [1, 4, 6, 10, 15], "ones": [1, 3, 4, 15], "need": [1, 3, 4, 6, 10, 14, 15], "meas_dir": [1, 6], "output_dir": [1, 3, 4, 12, 15], "write": [1, 2, 3, 6, 11, 12, 14, 15], "beta_file_nam": [1, 6], "prefix": [1, 3], "getkmodbeta": 1, "beta_phase_": [1, 3, 4], "reject": 1, "whose": 1, "bar": [1, 3, 12], "optics_param": [1, 6], "fullresponse_path": 1, "fullrespons": [1, 6], "analyt": [1, 4, 6], "max_it": 1, "re": 1, "mean": [1, 10, 14, 15], "onc": [1, 4, 12], "optim": 1, "omp": 1, "min_corrector_strength": 1, "minimum": [1, 14, 15], "absolut": [1, 4], "strength": 1, "corrector": [1, 10], "deviat": [1, 4, 14, 15], "correspod": 1, "n_corrector": 1, "upon": 1, "betx": [1, 3, 4], "beti": [1, 3, 4], "phasei": [1, 4], "bby": 1, "dx": [1, 4], "dy": [1, 4], "ndx": [1, 4], "q": [1, 6, 9], "f1001r": [1, 4], "f1001i": [1, 4], "f1010r": [1, 4], "f1010i": [1, 4], "output_filenam": 1, "changeparameters_it": 1, "svd_cut": 1, "cutoff": 1, "small": [1, 15], "smaller": [1, 4, 15], "rcond": 1, "largest_singular_valu": 1, "update_respons": 1, "updat": [1, 3, 6, 10, 12], "use_errorbar": [1, 6], "take": [1, 4, 12, 14], "account": [1, 11, 14], "variable_categori": [1, 6], "mqm": 1, "mqt": 1, "mqtl": 1, "mqy": 1, "quantiti": [1, 11, 15], "possibl": [1, 3, 14, 15], "problem": 1, "note": [1, 3, 14], "lmalina": 1, "2020": 1, "like": [1, 3, 6, 15], "care": 1, "low": 1, "v": [1, 6, 8, 11], "pseudoinvers": 1, "creation": [1, 10, 12], "pd": [1, 6, 8], "datafram": [1, 4, 6, 8, 11, 12, 14], "varslist": 1, "mayb": 1, "tfs_panda": 1, "column": [1, 3, 4, 6, 9, 11, 12, 14], "summat": 1, "renam": 1, "treat": 1, "until": [1, 3, 4, 12], "miss": 1, "other": [1, 5, 10, 11], "shall": 1, "part": [1, 6, 10], "lsa": [1, 4], "global_correct": [1, 6], "global_correction_entrypoint": [1, 4], "accel_opt": [1, 2], "do": [1, 4, 14, 15], "wrapper": [1, 3, 6, 10, 12, 14, 15], "response_madx": [1, 6], "response_twiss": [1, 6], "outfile_path": 1, "madx": [1, 2, 4, 6, 10], "debug": [1, 15], "print": [1, 15], "inform": [1, 11, 12], "delta_k": [1, 6], "k1": 1, "quad": [1, 6], "sensit": [1, 6], "2e": [1, 6], "response_cr": 1, "create_response_entrypoint": 1, "other_opt": [1, 10], "dict": [1, 3, 4, 6, 10, 11, 12, 14, 15], "entri": [1, 4, 6, 11, 12, 14, 15], "panda": [1, 8, 11, 12, 14, 15], "twissrespons": [1, 6], "format": [2, 4, 12, 15], "replic": 2, "ad": [2, 3, 6, 12, 15], "nois": [2, 8], "tbt_convert": 2, "converter_entrypoint": [2, 4], "realiz": 2, "copi": [2, 6, 15], "noise_level": 2, "sigma": [2, 4, 15], "gaussian": [2, 4], "use_averag": 2, "over": [2, 3, 8, 11, 12, 14], "particl": [2, 5, 6, 10], "bunch": [2, 8], "drop_el": 2, "drop": [2, 4, 14], "dure": 2, "convers": 2, "run": [2, 10], "psbooster": [2, 10], "p": [2, 11, 15], "model_cr": [2, 10], "create_instance_and_model": [2, 10], "arg": [2, 6, 10, 15], "alreadi": [2, 4, 10], "esrf": 2, "skekb": [2, 10], "jparc": 2, "petra": 2, "iota": 2, "writen": 2, "here": [2, 3, 4, 7, 14], "logfil": [2, 15], "written": [2, 4, 12], "sy": [2, 15], "stdout": [2, 15], "nomin": 2, "best_knowledg": [2, 10], "coupling_correct": 2, "implement": [2, 6, 8, 10], "madx_wrapp": 2, "high": [2, 6, 8, 10, 11], "code": [2, 6, 12, 15], "within": [2, 11, 15], "usag": [2, 3], "python": [2, 14], "your_madx_fil": 2, "except": [2, 10], "madxerror": 2, "run_fil": 2, "input_fil": [2, 11], "output_fil": 2, "log_fil": [2, 15], "madx_path": 2, "posixpath": [2, 4], "home": 2, "runner": 2, "bin": [2, 11], "linux64": 2, "gnu": 2, "cwd": 2, "subprocess": 2, "execut": 2, "run_str": 2, "input_str": 2, "plot_tf": 3, "easili": [3, 15], "plot_optics_measur": 3, "fig": 3, "folder1": 3, "folder2": 3, "combine_bi": [3, 12], "compar": [3, 4, 6], "output_directori": 3, "refer": [3, 6, 12], "optics_paramet": [3, 4, 6], "beta_phas": [3, 4, 11], "beta_amplitud": 3, "total_phas": 3, "f1001_x": 3, "f1010_x": 3, "x_axi": 3, "ip_posit": [3, 12], "lhcb1": 3, "suppress_column_legend": 3, "show": [3, 14], "ncol_legend": 3, "multiclass": 3, "change_mark": 3, "marker": [3, 6, 12], "combin": [3, 4, 8], "ax": [3, 12, 15], "errorbar_alpha": 3, "alpha": [3, 11, 12], "6": [3, 15], "ip": [3, 4, 10, 11, 12], "posit": [3, 10, 12], "lhcb2": 3, "dictionari": [3, 6, 8, 11, 12, 14], "ip_search_pattern": 3, "have": [3, 7, 10, 14, 15], "weird": 3, "regex": 3, "pattern": 3, "d": [3, 4, 11], "lines_manu": 3, "dictasstr": 3, "axvlin": [3, 12], "mai": [3, 14, 15], "addit": [3, 4, 5, 12, 15], "kei": [3, 6, 12, 14], "text": [3, 12], "loc": 3, "bottom": [3, 12], "place": [3, 10, 12, 15], "manual_styl": 3, "style": 3, "rcparamet": 3, "predefin": [3, 12], "legend": [3, 12], "shown": 3, "plot_styl": 3, "mplstyle": 3, "mpl": [3, 12, 15], "standard": [3, 4, 12, 14, 15], "share_xaxi": 3, "multipl": [3, 15], "figur": [3, 12], "share": 3, "axi": [3, 12, 14, 15], "doe": [3, 15], "x_lim": 3, "tupel": 3, "y_lim": 3, "kind": [3, 6, 10], "wai": [3, 11, 12], "beta_amp_": 3, "same_figur": 3, "same_ax": 3, "x_column": 3, "": [3, 4, 8, 10, 14, 15], "y_column": 3, "bet": 3, "error_column": 3, "x_label": [3, 12], "file_label": 3, "r": [3, 6], "eta": 3, "column_label": 3, "beta_": [3, 4, 6], "would": [3, 4, 14, 15], "bx": 3, "columnx": 3, "columni": 3, "y_label": [3, 12], "beta_x": 3, "beta_i": 3, "outer": [3, 11, 14], "inner": [3, 11, 14], "single_legend": 3, "replac": 3, "filenam": [3, 4, 7, 10, 12], "output_prefix": 3, "plot_": 3, "suffix": [3, 4], "attach": [3, 12], "ha": [3, 14], "effect": [3, 4, 10, 15], "thing": 3, "instanc": [3, 4, 6, 10, 15], "vertical_lin": 3, "vertic": [3, 8, 11, 12], "ir": [3, 11, 12], "overrid": 3, "respect": [3, 6, 11], "get_id": 3, "filename_part": 3, "right": [3, 6, 10, 12], "id": [3, 12], "current": [3, 8, 12, 15], "sort": [3, 8, 12], "actual": [3, 12, 15], "happen": 3, "map": [3, 6, 14, 15], "accord": [3, 12], "sort_data": 3, "plotter": 3, "analysi": [3, 4, 5, 8, 11], "support": [3, 10], "drive": 3, "stem": 3, "waterfal": 3, "anywai": [3, 12, 14], "save": [3, 6, 15], "sub": [3, 15], "origin": [3, 4, 8, 11, 12, 15], "lines_tun": 3, "lines_nattun": 3, "accept": 3, "multipli": [3, 6, 12], "dash": 3, "indic": [3, 8, 11], "semi": 3, "transpar": 3, "area": 3, "With": 3, "spec": 3, "thei": [3, 4, 7, 15], "identify": 3, "uniqu": [3, 12], "without": [3, 4, 10, 12, 15], "amp": [3, 4, 12], "freq": [3, 4, 12], "so": [3, 4, 7, 14, 15], "usual": [3, 4, 12, 15], "amp_limit": 3, "non": [3, 11, 12, 15], "how": [3, 11, 15], "filetyp": [3, 12], "extens": [3, 4], "pdf": [3, 4, 11], "unionpathstr": [3, 15], "plot_typ": 3, "rescal": [3, 12], "show_plot": 3, "waterfall_cmap": 3, "colormap": 3, "inferno": 3, "waterfall_common_plane_color": 3, "colorbar": 3, "scale": [3, 11, 14], "waterfall_line_width": 3, "width": [3, 8], "auto": 3, "them": [3, 4, 11, 15], "next": [3, 4, 10, 12], "xlim": 3, "ylim": 3, "09": 3, "plot_spectrum": 3, "get_reshuffled_tab20c": 3, "reshuffel": 3, "tab20c": 3, "color": [3, 15], "earli": 3, "frame": [3, 11, 12], "action_plot_unit": 3, "km": 3, "nm": 3, "pm": [3, 6], "fm": 3, "am": 3, "action_unit": 3, "correct_acd": 3, "ac": [3, 4, 10], "dipol": [3, 4, 10], "befor": [3, 4, 10, 12], "amplitude_detun": 3, "tune_scal": 3, "expon": [3, 14], "plot_amplitude_detun": 3, "fitfunc": 3, "built": 3, "callabl": 3, "upper": [3, 6], "lower": [3, 8, 11], "plot_cub": 3, "_supportsarrai": [3, 14, 15], "dtype": [3, 14, 15], "byte": [3, 14, 15], "f_low": 3, "f_upp": 3, "cube": 3, "surfac": 3, "plot_odr": 3, "odr_fit": [3, 14], "xmax": 3, "add": [3, 4, 12, 14, 15], "odr": [3, 14, 15], "plot_odr_3d": 3, "xymax": 3, "wa": [3, 4, 6, 10, 14], "two_plot": 3, "yyyi": 3, "dd": 3, "hh": 3, "ss": 3, "mmm": 3, "plot_bbq": 3, "produc": 4, "getllm": [4, 11], "allow": [4, 12, 14, 15], "forward": 4, "comparison": 4, "good": [4, 15], "know": [4, 10], "_free": 4, "adt": [4, 10], "_free2": 4, "http": [4, 6, 11, 12, 14, 15], "github": [4, 15], "com": [4, 12, 15], "pylhc": [4, 15], "blob": 4, "63c5e39f63b03c00d18289cc9813a912fa6b933f": 4, "l606": 4, "betabeatsrc_output_convert": 4, "convert_old_beta_from_amplitud": 4, "inputdir": 4, "old_file_nam": 4, "ampbeta": 4, "new_file_nam": 4, "beta_amplitude_": 4, "expect": 4, "amplitud": [4, 12, 14], "new": [4, 6, 12, 15], "getampbeta": 4, "count": 4, "betxstd": 4, "betxmdl": 4, "muxmdl": 4, "betxr": 4, "betxstdr": 4, "old": [4, 14], "convert_old_beta_from_phas": 4, "getbeta": 4, "sysbetx": 4, "statbetx": 4, "errbetx": 4, "corr_alfabeta": 4, "alfx": 4, "sysalfx": 4, "statalfx": 4, "erralfx": 4, "alfxmdl": 4, "ncombin": 4, "convert_old_closed_orbit": 4, "co": [4, 6], "orbit_": 4, "close": 4, "getco": 4, "stdx": 4, "xmdl": 4, "convert_old_coupl": 4, "f": [4, 11], "getcoupl": 4, "f1001w": 4, "fwstd1": 4, "f1010w": 4, "fwstd2": 4, "q1001": 4, "q1001std": 4, "q1010": 4, "q1010std": 4, "mdlf1001r": 4, "mdlf1001i": 4, "mdlf1010r": 4, "mdlf1010i": 4, "convert_old_directory_to_new": 4, "pars": 4, "command": [4, 11, 14], "convert_old_dispers": 4, "dispersion_": 4, "getd": 4, "stddx": 4, "dpx": 4, "dxmdl": 4, "dpxmdl": 4, "convert_old_normalised_dispers": 4, "nd": 4, "normalised_dispersion_": 4, "getnd": 4, "stdndx": 4, "ndxmdl": 4, "convert_old_phas": 4, "phase_": 4, "getphas": 4, "name2": 4, "s1": 4, "stdphx": 4, "phxmdl": 4, "convert_old_total_phas": 4, "phasetot": 4, "total_phase_": 4, "total": [4, 6, 11, 14], "getphasetot": 4, "togeth": 4, "bpmwk": 4, "common": [4, 11], "avoid": [4, 6, 15], "duplic": 4, "header": [4, 11, 14], "overwritten": [4, 10, 12], "alphabet": 4, "saniti": 4, "luminos": [4, 12], "imbal": 4, "kmod_dir": 4, "particular": [4, 15], "lsa_result": 4, "merge_kmod_result": 4, "get_kmod_ip_subdir": 4, "subdirectori": 4, "get_lumi_imbal": 4, "data_fram": 4, "affinescalarfunc": 4, "taken": [4, 8, 14], "concept": 4, "eq": [4, 6], "17": 4, "cd": [4, 6], "cern": [4, 5, 6, 14, 15], "ch": [4, 6, 14], "record": [4, 6], "941318": 4, "p361": 4, "frac": [4, 6], "l_": 4, "sqrt": [4, 6, 11], "x1": 4, "x2": 4, "y1": 4, "y2": 4, "sigma_": 4, "sum_": 4, "substack": [4, 6], "2_": 4, "z1": 4, "z2": 4, "ufloat": 4, "mod": [4, 12], "merge_tf": 4, "pathlib": 4, "object": [4, 8, 11, 15], "hold": [4, 10, 11], "highest": 4, "not_found_act": 4, "what": 4, "throw": 4, "valueerror": 4, "rename_suffix": 4, "Will": [4, 10], "insert": 4, "empti": [4, 6], "unless": 4, "convent": [4, 12, 14], "track": [4, 12], "observation_point": 4, "def": 4, "put": [4, 12], "twissfil": 4, "observationspoint": 4, "incorpor": 4, "pathorstrordatafram": [4, 15], "altern": [4, 12], "f1010": 4, "f1001": 4, "random": 4, "distribut": [4, 15], "relative_error": 4, "paramt": 4, "orlist": 4, "seed": 4, "fake_measurement_from_model": 4, "append_model": 4, "df": [4, 11, 14], "df_model": 4, "create_beta": 4, "df_twiss": 4, "beta_amp": 4, "create_coupl": 4, "sum": [4, 11], "create_dispers": 4, "create_measur": 4, "create_normalized_dispers": 4, "df_disp": 4, "df_beta": 4, "pre": 4, "create_phas": 4, "create_phase_adv": 4, "create_total_phas": 4, "autom": 4, "standalon": 4, "refin": 4, "done": [4, 8, 14], "percentil": [4, 15], "remain": 4, "loop": [4, 12], "process": [4, 6], "repeat": 4, "stai": 4, "constant": [4, 15], "less": [4, 12, 14, 15], "datapoint": [4, 15], "whatev": 4, "itself": 4, "independ": [4, 14], "consecut": 4, "last": [4, 15], "yet": [4, 6, 10], "themselv": 4, "evalu": 4, "backup": 4, "activ": [4, 15], "restor": 4, "No": [4, 8], "overwrit": 4, "latest": 4, "todo": [4, 15], "BUT": 4, "probabl": 4, "modif": 4, "And": [4, 14], "linfile_clean": 4, "clean_column": 4, "commandlin": [4, 8, 10], "restore_fil": 4, "librari": 5, "omc": 5, "team": 5, "circular": [5, 6, 15], "properti": [5, 11, 15], "comput": [5, 6, 8, 11, 15], "algorithm": 5, "sever": 5, "easi": 5, "wrap": [5, 11, 12], "definit": [5, 12, 14], "kmod": 5, "subfunct": 5, "search": [5, 8], "page": 5, "specif": [6, 8, 9, 10, 11, 14], "help": [6, 7, 8, 9, 10, 11, 14], "presum": 6, "trustworthi": 6, "filter_measur": 6, "decid": 6, "earlier": 6, "etc": [6, 9, 14, 15], "_get_filtered_gener": 6, "unifi": 6, "filter_response_index": 6, "accel_inst": 6, "global": [6, 10, 11], "describ": 6, "get_measurement_data": 6, "w_dict": 6, "model_append": 6, "add_coupling_to_model": 6, "said": [6, 11], "real": 6, "imaginari": 6, "add_differences_to_model_to_measur": 6, "variat": 6, "omit": 6, "similar": [6, 12], "oper": 6, "model_diff": 6, "diff_twiss_paramet": 6, "model_a": 6, "model_b": 6, "under": 6, "investig": 6, "obtain": 6, "now": [6, 15], "hdf5": 6, "author": 6, "luka": 6, "malina": 6, "joschua": 6, "dilli": 6, "jaim": 6, "coello": 6, "de": 6, "portug": 6, "create_fullrespons": 6, "num_proc": 6, "temp_dir": 6, "categori": 6, "knob": 6, "json": 6, "k1l": 6, "parallel": 6, "temporari": [6, 15], "original_jobfil": 6, "properli": [6, 10], "formula": 6, "summar": 6, "10": [6, 11, 12, 15], "j": [6, 11], "mp": 6, "sum_m": 6, "k_": 6, "tau_": 6, "mj": 6, "sin": 6, "pi": [6, 15], "q_z": 6, "d_": 6, "q_x": 6, "q_y": 6, "norm": 6, "2sin": 6, "phi_": 6, "wj": 6, "left": [6, 10, 12, 15], "pi_": 6, "mw": 6, "jw": 6, "f_": 6, "scriptscriptstyl": 6, "1001": 6, "1010": 6, "j_": 6, "exp": 6, "peopl": 6, "read": [6, 14], "interest": 6, "transpos": 6, "vector": 6, "individu": 6, "begin": 6, "At": 6, "orient": 6, "franchi": 6, "et": 6, "al": 6, "rapid": 6, "2017": [6, 10], "arxiv": [6, 11], "org": [6, 11], "1711": 6, "06589": 6, "toma": 6, "review": 6, "charg": 6, "physic": [6, 10], "54801": 6, "doi": [6, 11], "1103": [6, 11], "physrevaccelbeam": 6, "054801": 6, "2018": [6, 10], "2632945": 6, "varmap_or_path": 6, "at_el": 6, "structur": [6, 11, 15], "seri": [6, 8, 12, 14], "pickl": 6, "varfil": 6, "get_beta_beat": 6, "get_coupl": 6, "get_dispers": 6, "get_norm_dispers": 6, "get_phas": [6, 11], "get_phase_adv": 6, "get_response_for": 6, "get_tun": 6, "create_respons": 6, "vars_categori": 6, "dphi": 6, "twiss_df": 6, "response_add": 6, "tau": 6, "list_of_str": 6, "item": [6, 11], "uppercas": 6, "Then": 6, "sequence_evalu": 6, "check_varmap_fil": 6, "varmap": 6, "evaluate_for_vari": 6, "response_io": 6, "read_fullrespons": 6, "disk": 6, "bewar": [6, 14], "As": [6, 12], "read_varmap": 6, "k_valu": 6, "write_fullrespons": 6, "hdf": 6, "gigant": 6, "otherwis": [6, 12, 15], "write_varmap": 6, "throughout": 7, "don": 7, "redefin": 7, "recur": 7, "get_config_filenam": 7, "config": 7, "__file__": [7, 15], "harpy_input": 8, "bpm_data": 8, "decomposit": 8, "longitudin": 8, "its": [8, 11, 15], "summari": 8, "resolut": 8, "svd_decomposit": 8, "num_singular_valu": 8, "dominance_limit": 8, "num_it": 8, "reduc": 8, "mxn": 8, "diag": 8, "decompos": 8, "reconstruct": 8, "product": [8, 11], "mask": [8, 10, 14, 15], "relat": [8, 10, 11, 12], "zero_pad": 8, "fft": 8, "speed": 8, "clean_by_tun": 8, "find": [8, 15], "estimate_tun": 8, "usv": 8, "find_reson": 8, "nturn": 8, "order_reson": 8, "mark": [8, 10, 11], "horizont": [8, 11], "get_freq_mask": 8, "auto_tol": 8, "harpyinput": 8, "automat": [8, 12, 15], "boolean": [8, 10, 15], "arrai": [8, 9, 10, 12, 14, 15], "harpy_per_plan": 8, "bpm_matrix": 8, "hasn": 8, "been": [8, 10], "too": [8, 12], "far": 8, "windowed_padded_rfft": 8, "pad": [8, 12], "u_matrix": 8, "np": [8, 11, 14, 15], "dot": 8, "s_matrix": 8, "v_matrix": 8, "increas": 8, "lobe": 8, "decreas": 8, "spectral": 8, "leakag": 8, "closest": [8, 11], "normalis": [8, 11], "tool": 8, "tbtdata": 8, "run_per_bunch": 8, "tbt_data": 8, "damp": 8, "exponenti": 8, "decai": 8, "oscil": 8, "phase_correct": 8, "bpm_data_orig": 8, "lin_fram": 8, "average_beta_from_tun": 9, "tdq": 9, "l": 9, "dk": 9, "get_phase_from_model": 9, "kmod_input_param": 9, "return_sign_for_err": 9, "form": [9, 11], "dq": 9, "io": 9, "get_acceler": 10, "get_parsed_opt": 10, "accelementtyp": 10, "arc_bpm": 10, "abstract": 10, "serv": 10, "interfac": 10, "get_base_madx_script": 10, "job": 10, "classmethod": [10, 12, 15], "get_correctors_vari": 10, "frm": 10, "select": 10, "get_dir": 10, "get_element_types_mask": 10, "list_of_el": 10, "ndarrai": [10, 11, 14], "belong": 10, "get_exciter_bpm": 10, "nearest": [10, 11], "get_fil": 10, "get_update_correction_script": 10, "tiwss_out_path": 10, "corrections_file_path": 10, "changeparamet": 10, "get_vari": 10, "everyth": 10, "verify_object": 10, "verifi": 10, "instanti": 10, "acceleratordefinitionerror": 10, "rais": [10, 15], "wrongli": 10, "exampl": 10, "affect": [10, 15], "logic": 10, "machin": 10, "dpp": 10, "deltap": [10, 11], "driven_excit": 10, "denot": 10, "acd": 10, "drv_tune": 10, "integ": 10, "energi": 10, "tev": 10, "nat_tun": 10, "xing": 10, "ing": 10, "angl": [10, 11], "collid": 10, "year": 10, "hllhc1": 10, "2012": 10, "2015": 10, "2016": 10, "2022": 10, "ats": 10, "ATS": 10, "commonbpm": [10, 11], "get_ip": 10, "outpath": 10, "corr_fil": 10, "invalid": 10, "filepath": 10, "psb": 10, "ring": 10, "her": 10, "ler": 10, "kek": 10, "conveni": [10, 15], "lhc_model_cr": 10, "lhcbestknowledgecr": 10, "check_run_output": 10, "success": 10, "appropri": [10, 12], "macro": 10, "get_madx_script": 10, "lhccouplingcr": 10, "lhcmodelcr": 10, "get_correction_check_script": 10, "changeparameters_coupl": 10, "chrom": 10, "twiss_no": 10, "dat": 10, "twiss_corr": 10, "readabl": [10, 15], "deltapm": 10, "deltapp": 10, "prepare_run": 10, "prepar": 10, "necessari": [10, 11], "avail": [10, 15], "create_accel_and_inst": 10, "ps_model_cr": 10, "psmodelcr": 10, "psbooster_model_cr": 10, "psboostermodelcr": 10, "optics_measur": [11, 12], "inputfil": 11, "files_to_analys": 11, "optics_opt": 11, "gather": 11, "public": 11, "get_dpp": 11, "get_joined_fram": 11, "zero_dpp": 11, "get_column": 11, "get_data": 11, "static": 11, "join": 11, "narrai": 11, "joined_fram": 11, "dpp_valu": 11, "dpp_amp": 11, "construct": 11, "3dkick": 11, "whi": 11, "measure_input": 11, "tune_dict": 11, "linx": 11, "opticsinput": 11, "beta_from_amplitud": 11, "meas_input": 11, "header_dict": 11, "tfsfile": 11, "amp_beta_nam": 11, "ext": 11, "tunedict": 11, "beta_from_phas": 11, "phase_dict": 11, "betadict": 11, "calculate_beta_alpha_from_single_combin": 11, "sin_squared_el": 11, "outer_elmt": 11, "cot_model": 11, "cot_mea": 11, "outer_meas_phase_adv": 11, "probed_bpm_nam": 11, "betmdl1": 11, "alfmdl1": 11, "covari": 11, "triplet": 11, "wrt": 11, "probe": 11, "n_bpm_method": 11, "meas_and_mdl_tun": 11, "systemat": 11, "configur": 11, "alfa": 11, "adjac": 11, "errmea": 11, "bpm1": 11, "bpm2": 11, "bpm3": 11, "bpm4": 11, "phi_21": 11, "phi_31": 11, "phi_41": 11, "phi_12": 11, "phi_32": 11, "phi_42": 11, "phi_13": 11, "phi_23": 11, "phi_43": 11, "tilt_slice_matrix": 11, "slice": 11, "bring": 11, "bpm_": 11, "phi_1n": 11, "bpm_i": 11, "phi_34": 11, "phi_45": 11, "cot_phase_": 11, "_shift1": 11, "cot": 11, "phi_2n": 11, "nan": [11, 12, 14, 15], "phi_24": 11, "phi_35": 11, "xxxabbx": 11, "row": 11, "combinst": 11, "xbbaxxx": 11, "fourth": 11, "xxbabxx": 11, "_shift2": 11, "deriv": 11, "1402": 11, "1461": 11, "calculate_dispers": 11, "ordereddict": 11, "about": 11, "calculate_normalised_dispers": 11, "calculate_orbit": 11, "arrang": 11, "dp": 11, "arrange_dpp": 11, "group": 11, "detect": [11, 15], "exclud": 11, "anomali": 11, "betastar_from_phas": 11, "phase_d": 11, "getip": 11, "betastar": 11, "measurement_input": 11, "nest": 11, "phase_to_betastar": 11, "lstar": 11, "errphas": 11, "across": 11, "must": 11, "radian": 11, "side": [11, 14], "no_error": 11, "uncompens": 11, "f_jklm": 11, "invari": 11, "complex_secondary_lin": 11, "phase_adv": 11, "err_padv": 11, "sig1": 11, "sig2": 11, "secondari": 11, "err_amplitud": 11, "err_phas": 11, "signal": 11, "get_linearized_problem": 11, "inv": 11, "power": 11, "2jx": 11, "2jy": 11, "later": 11, "we": 11, "2j": 11, "helper": [11, 12, 14, 15], "regularli": 11, "simpl": [11, 14], "ang_interval_check": 11, "ang": 11, "ang_sum": 11, "b": 11, "angular": 11, "df_ang_diff": 11, "a_col": 11, "b_col": 11, "df_diff": 11, "df_diff_with_err": 11, "a_err_col": 11, "b_err_col": 11, "df_err_sum": 11, "root": [11, 15], "squar": [11, 15], "df_prod": 11, "df_prod_with_err": 11, "df_ratio": 11, "ratio": 11, "df_ratio_with_err": 11, "df_rel_diff": 11, "df_rel_diff_with_err": 11, "df_rel_err_sum": 11, "df_sum": 11, "df_sum_with_err": 11, "get_lambda": 11, "lambda": 11, "factor": [11, 15], "motion": 11, "phase_ac2bpm": 11, "df_idx_by_bpm": 11, "physrevstab": 11, "084002": 11, "_get_commonbpm": 11, "four": 11, "figurecollector": 12, "collect": 12, "add_data_for_id": 12, "figure_id": 12, "axes_id": 12, "figurecontain": 12, "id_": 12, "create_stem_plot": 12, "create_waterfall_plot": 12, "id_data": 12, "iddata": 12, "filter_amp": 12, "get_bpm": 12, "lin_fil": 12, "given_bpm": 12, "file_path": [12, 15], "messag": [12, 15], "get_cycled_color": 12, "idx": 12, "cycl": 12, "cn": 12, "c9": 12, "get_data_for_bpm": 12, "get_stem_id": 12, "frozenset": 12, "By": 12, "control": 12, "get_unique_filenam": 12, "complic": 12, "assur": 12, "go": [12, 14], "backward": 12, "through": 12, "get_waterfall_id": 12, "labl": 12, "index_filt": 12, "due": [12, 14], "_filter_amp": 12, "load_spectrum_data": 12, "fileend": 12, "subdict": 12, "oomformatt": 12, "fformat": 12, "1f": 12, "mathtext": 12, "magnitud": 12, "formatt": 12, "fix": 12, "seen": 12, "stackoverflow": 12, "42658124": 12, "5609590": 12, "set_sci_magnitud": 12, "figure_titl": 12, "titl": 12, "border": 12, "pass": 12, "fontdict": 12, "get_annot": 12, "by_refer": 12, "set_annot": 12, "get_ip_posit": 12, "get_legend_ncol": 12, "max_length": 12, "78": 12, "dynam": 12, "get_nam": 12, "fig_or_ax": 12, "make_top_legend": 12, "ncol": 12, "move_ip_label": 12, "set_nam": 12, "math_text": 12, "ommformatt": 12, "scientif": 12, "whether": 12, "set_xaxis_label": 12, "gca": 12, "set_yaxis_label": 12, "param": 12, "chromcoup": 12, "One": 12, "ylabel": 12, "show_ir": 12, "ip_dict": 12, "insid": [12, 14, 15], "region": 12, "background": 12, "iplabel": 12, "nolin": 12, "small_titl": 12, "change_color_bright": 12, "lighten": 12, "matplotlib": 12, "hex": 12, "rgb": 12, "veri": [12, 15], "bright": 12, "white": 12, "dark": 12, "ian": 12, "hinck": 12, "question": 12, "37765197": 12, "darken": 12, "change_ebar_alpha_for_ax": 12, "change_ebar_alpha_for_lin": 12, "ebar": 12, "cap": 12, "get_mpl_color": 12, "whole": 12, "rgb_plotly_to_mpl": 12, "rgb_string": 12, "transforn": 12, "plotli": 12, "rbg": 12, "markerlist": 12, "get_mark": 12, "marker_num": 12, "maker": 12, "len": 12, "get_next_mark": 12, "circularli": 12, "plot_vertical_lin": 12, "axvline_arg": 12, "text_loc": 12, "label_s": 12, "mline": 12, "capabl": [12, 14], "zorder": 12, "plot_vertical_lines_fast": 12, "coordin": 12, "set_styl": 12, "remove_entri": 12, "fall": 12, "back": 12, "tune_analysi": 14, "ampdetdata": 14, "tune_plan": 14, "action_plan": 14, "core": 14, "action_err": 14, "tune_err": 14, "fakeodroutput": 14, "sd_beta": 14, "get_action_col": 14, "get_action_err_col": 14, "get_action_label": 14, "get_bbq_col": 14, "get_corr_natq_err_col": 14, "get_detuning_exponent_for_ord": 14, "detun": 14, "highli": 14, "empir": 14, "get_fine_cut_head": 14, "get_fine_window_head": 14, "get_mav_col": 14, "get_mav_err_col": 14, "get_mav_window_head": 14, "get_max_tune_head": 14, "get_min_tune_head": 14, "get_natq_col": 14, "get_natq_corr_col": 14, "get_natq_err_col": 14, "get_odr_header_coeff": 14, "q_plane": 14, "j_plane": 14, "term": 14, "get_odr_header_coeff_correct": 14, "get_odr_header_err_coeff": 14, "get_odr_header_err_coeff_correct": 14, "get_outlier_limit_head": 14, "get_tend_head": 14, "get_timber_bbq_kei": 14, "get_time_col": 14, "get_tstart_head": 14, "get_tune_label": 14, "get_used_in_mav_col": 14, "bbq_tool": 14, "minmaxfilteropt": 14, "outlierfilteropt": 14, "clean_outliers_moving_averag": 14, "data_seri": 14, "ceil": 14, "previou": 14, "floor": 14, "get_moving_averag": 14, "beforehand": 14, "mainli": 14, "fitting_tool": 14, "do_2d_kicks_odr": 14, "xerr": 14, "yerr": 14, "2xn": 14, "do_odr": 14, "upward": 14, "slope": 14, "first_order_detuning_2d": 14, "qx": 14, "qy": 14, "qx0": 14, "dqx": 14, "dex": 14, "ex": 14, "dei": 14, "ei": 14, "qy0": 14, "dqy": 14, "input_ord": 14, "xx": 14, "yy": 14, "yx": 14, "ex1": 14, "ex2": 14, "ey1": 14, "ey2": 14, "qx1": 14, "qx2": 14, "qy1": 14, "qy2": 14, "first_order_detuning_2d_jacobian": 14, "jacobian": 14, "2x2xlen": 14, "get_poly_fun": 14, "polynomi": 14, "enough": 14, "map_odr_fit_to_plan": 14, "fake": 14, "attribut": 14, "kick_ac": 14, "kick_file_modifi": 14, "add_bbq_data": 14, "bbq_column": 14, "kickac": 14, "read_timed_datafram": 14, "add_corrected_natural_tun": 14, "kickac_df": 14, "plu": 14, "add_moving_averag": 14, "add_odr": 14, "un": 14, "detuning_tool": 14, "uncorrect": 14, "convert_bbs_kickdatafram": 14, "convert": [14, 15], "python2": 14, "compat": 14, "coeffient": 14, "Be": 14, "awar": 14, "bug": 14, "might": 14, "switch": [14, 15], "convert_bbs_kickfil": 14, "convert_old_kickdatafram": 14, "get_ampdet_data": 14, "dropna": 14, "kick_x": 14, "kick_i": 14, "kick_ampdet_xi": 14, "ampdet": 14, "get_odr_data": 14, "bit": 14, "heavi": 14, "pytimb": [14, 15], "packag": [14, 15], "access": 14, "network": [14, 15], "instal": [14, 15], "along": [14, 15], "extra": [14, 15], "acc": [14, 15], "url": 14, "repo": 14, "repositori": 14, "vr": 14, "releas": 14, "trust": 14, "host": 14, "pip": 14, "timber_extract": 14, "extract_between_tim": 14, "t_start": 14, "acceptabletimestamp": 14, "t_end": 14, "local": [14, 15], "get_fill_tim": 14, "db": [14, 15], "fill_numb": 14, "datetim": [14, 15], "loggingdb": [14, 15], "databas": 14, "get_tune_and_coupling_vari": 14, "connexion": 14, "lhc_fill_to_tf": 14, "log_out": 15, "_io": 15, "textiowrapp": 15, "encod": 15, "utf": 15, "stderr": 15, "temporarili": 15, "silenc": 15, "suppress": 15, "consol": 15, "rerout": 15, "devnul": 15, "suppress_warn": 15, "warning_class": 15, "warn": 15, "timeit": 15, "issu": 15, "iotool": 15, "behav": 15, "parser": 15, "special": 15, "convert_paths_in_dict_to_str": 15, "dict_": 15, "copy_content_of_dir": 15, "src_dir": 15, "dst_dir": 15, "copy_item": 15, "src_item": 15, "dest": 15, "dir": 15, "create_dir": 15, "path_to_dir": 15, "exist": 15, "remove_none_dict_entri": 15, "workaround": 15, "generic_pars": 15, "26": 15, "save_config": 15, "quick": 15, "save_options_to_config": 15, "invok": 15, "becom": 15, "ini": 15, "easier": 15, "logger": 15, "setup": 15, "get_logg": 15, "logging_tool": 15, "debugmod": 15, "hint": 15, "contextmanag": 15, "contextlib": 15, "even": 15, "though": 15, "nicer": 15, "_get_cal": 15, "anyth": 15, "maxfilt": 15, "certain": 15, "tempfil": 15, "log_func": 15, "content": 15, "won": 15, "open": 15, "func": 15, "info": 15, "tempstringlogg": 15, "retriev": 15, "get_log": 15, "caller": 15, "add_module_handl": 15, "handler": 15, "add_root_handl": 15, "file_handl": 15, "fmt": 15, "levelnam": 15, "getlogg": 15, "level_root": 15, "level_consol": 15, "__main__": 15, "__name__": 15, "basic_format": 15, "tty": 15, "never": 15, "alwai": 15, "enforc": 15, "get_my_logger_nam": 15, "list2str": 15, "list_": 15, "represent": 15, "bracket": 15, "log_pandas_settings_with_copi": 15, "settingswithcopi": 15, "loc_func": 15, "logging_sil": 15, "odr_pprint": 15, "printer": 15, "odr_out": 15, "adapt": 15, "odr_output": 15, "pretti": 15, "stream_handl": 15, "stream": 15, "max_level": 15, "unformatted_console_log": 15, "unformat": 15, "necessit": 15, "gpn": 15, "pjlsa": 15, "cern_network_import": 15, "nxcal": 15, "cernnetworkmockpackag": 15, "design": 15, "document": 15, "insight": 15, "importerror": 15, "attempt": 15, "get_filter_mask": 15, "x_data": 15, "niter": 15, "nsig": 15, "meant": 15, "mani": 15, "kept": 15, "arraylik": 15, "directli": 15, "interrupt": 15, "did": 15, "shrink": 15, "consid": 15, "okai": 15, "nsigma": 15, "got": 15, "student": 15, "statist": 15, "unbias": 15, "infinit": 15, "finit": 15, "sampl": 15, "test": 15, "occur": 15, "fallback": 15, "uniform": 15, "circular_error": 15, "period": 15, "283185307179586": 15, "t_value_corr": 15, "scalar": 15, "associ": 15, "speci": 15, "circular_mean": 15, "circular_nanerror": 15, "circular_nanmean": 15, "effective_sample_s": 15, "reason": 15, "blow": 15, "t_value_correct": 15, "sample_s": 15, "shape": 15, "unbias_vari": 15, "unbia": 15, "varianc": 15, "weighted_error": 15, "weighted_mean": 15, "weighted_nanmean": 15, "weighted_nanrm": 15, "weigthed_rm": 15, "weighted_rm": 15, "weights_from_error": 15, "utc": 15, "time_tool": 15, "accdatetim": 15, "timedelta": 15, "cern_utc_str": 15, "ducktyp": 15, "from_cern_utc_str": 15, "from_loc": 15, "dt": 15, "from_local_str": 15, "from_timestamp": 15, "from_utc": 15, "from_utc_str": 15, "local_str": 15, "local_timezon": 15, "timezon": 15, "utc_str": 15, "acceleratordatetim": 15, "sp": 15, "cern_utc_string_to_utc": 15, "check_tz": 15, "localized_dt": 15, "get_cern_time_format": 15, "get_cern_timezon": 15, "zone": 15, "get_readable_time_format": 15, "human": 15, "local_string_to_utc": 15, "local_to_utc": 15, "dt_local": 15, "utc_now": 15, "utc_string_to_utc": 15, "utc_to_loc": 15, "dt_utc": 15}, "objects": {"omc3": [[0, 0, 0, "-", "amplitude_detuning_analysis"], [1, 0, 0, "-", "global_correction"], [0, 0, 0, "-", "hole_in_one"], [2, 0, 0, "-", "madx_wrapper"], [2, 0, 0, "-", "model_creator"], [1, 0, 0, "-", "response_creator"], [0, 0, 0, "-", "run_kmod"], [2, 0, 0, "-", "tbt_converter"]], "omc3.amplitude_detuning_analysis": [[0, 1, 1, "", "analyse_with_bbq_corrections"], [0, 1, 1, "", "double_action_analysis"], [0, 1, 1, "", "get_approx_bbq_interval"], [0, 1, 1, "", "get_kick_and_bbq_df"], [0, 1, 1, "", "single_action_analysis"]], "omc3.correction": [[6, 0, 0, "-", "constants"], [6, 0, 0, "-", "filters"], [6, 0, 0, "-", "handler"], [6, 0, 0, "-", "model_appenders"], [6, 0, 0, "-", "model_diff"], [6, 0, 0, "-", "response_io"], [6, 0, 0, "-", "response_madx"], [6, 0, 0, "-", "response_twiss"], [6, 0, 0, "-", "sequence_evaluation"]], "omc3.correction.filters": [[6, 1, 1, "", "filter_measurement"], [6, 1, 1, "", "filter_response_index"]], "omc3.correction.handler": [[6, 1, 1, "", "correct"], [6, 1, 1, "", "get_measurement_data"]], "omc3.correction.model_appenders": [[6, 1, 1, "", "add_coupling_to_model"], [6, 1, 1, "", "add_differences_to_model_to_measurements"]], "omc3.correction.model_diff": [[6, 1, 1, "", "diff_twiss_parameters"]], "omc3.correction.response_io": [[6, 1, 1, "", "read_fullresponse"], [6, 1, 1, "", "read_varmap"], [6, 1, 1, "", "write_fullresponse"], [6, 1, 1, "", "write_varmap"]], "omc3.correction.response_madx": [[6, 1, 1, "", "create_fullresponse"]], "omc3.correction.response_twiss": [[6, 2, 1, "", "TwissResponse"], [6, 1, 1, "", "create_response"], [6, 1, 1, "", "dphi"], [6, 1, 1, "", "get_phase_advances"], [6, 1, 1, "", "response_add"], [6, 1, 1, "", "tau"], [6, 1, 1, "", "upper"]], "omc3.correction.response_twiss.TwissResponse": [[6, 3, 1, "", "get_beta_beat"], [6, 3, 1, "", "get_coupling"], [6, 3, 1, "", "get_dispersion"], [6, 3, 1, "", "get_norm_dispersion"], [6, 3, 1, "", "get_phase"], [6, 3, 1, "", "get_phase_adv"], [6, 3, 1, "", "get_response_for"], [6, 3, 1, "", "get_tune"]], "omc3.correction.sequence_evaluation": [[6, 1, 1, "", "check_varmap_file"], [6, 1, 1, "", "evaluate_for_variables"]], "omc3.definitions": [[7, 0, 0, "-", "constants"], [7, 0, 0, "-", "formats"]], "omc3.definitions.formats": [[7, 1, 1, "", "get_config_filename"]], "omc3.global_correction": [[1, 1, 1, "", "global_correction_entrypoint"]], "omc3.harpy": [[8, 0, 0, "-", "clean"], [8, 0, 0, "-", "constants"], [8, 0, 0, "-", "frequency"], [8, 0, 0, "-", "handler"], [8, 0, 0, "-", "kicker"]], "omc3.harpy.clean": [[8, 1, 1, "", "clean"], [8, 1, 1, "", "svd_decomposition"]], "omc3.harpy.frequency": [[8, 1, 1, "", "clean_by_tune"], [8, 1, 1, "", "estimate_tunes"], [8, 1, 1, "", "find_resonances"], [8, 1, 1, "", "get_freq_mask"], [8, 1, 1, "", "harpy_per_plane"], [8, 1, 1, "", "windowed_padded_rfft"], [8, 1, 1, "", "windowing"]], "omc3.harpy.handler": [[8, 1, 1, "", "run_per_bunch"]], "omc3.harpy.kicker": [[8, 1, 1, "", "phase_correction"]], "omc3.hole_in_one": [[0, 1, 1, "", "hole_in_one_entrypoint"]], "omc3.kmod": [[9, 0, 0, "-", "analysis"], [9, 0, 0, "-", "constants"], [9, 0, 0, "-", "helper"]], "omc3.kmod.analysis": [[9, 1, 1, "", "average_beta_from_Tune"], [9, 1, 1, "", "get_phase_from_model"], [9, 1, 1, "", "return_sign_for_err"]], "omc3.madx_wrapper": [[2, 4, 1, "", "MadxError"], [2, 1, 1, "", "run_file"], [2, 1, 1, "", "run_string"]], "omc3.model.accelerators": [[10, 0, 0, "-", "accelerator"], [10, 0, 0, "-", "esrf"], [10, 0, 0, "-", "iota"], [10, 0, 0, "-", "lhc"], [10, 0, 0, "-", "petra"], [10, 0, 0, "-", "ps"], [10, 0, 0, "-", "psbooster"], [10, 0, 0, "-", "skekb"]], "omc3.model.accelerators.accelerator": [[10, 2, 1, "", "AccElementTypes"], [10, 2, 1, "", "Accelerator"], [10, 4, 1, "", "AcceleratorDefinitionError"], [10, 2, 1, "", "Element"], [10, 2, 1, "", "Variable"]], "omc3.model.accelerators.accelerator.Accelerator": [[10, 3, 1, "", "get_base_madx_script"], [10, 3, 1, "", "get_correctors_variables"], [10, 3, 1, "", "get_dir"], [10, 3, 1, "", "get_element_types_mask"], [10, 3, 1, "", "get_exciter_bpm"], [10, 3, 1, "", "get_file"], [10, 3, 1, "", "get_update_correction_script"], [10, 3, 1, "", "get_variables"], [10, 3, 1, "", "verify_object"]], "omc3.model.accelerators.esrf": [[10, 2, 1, "", "Esrf"]], "omc3.model.accelerators.iota": [[10, 2, 1, "", "Iota"]], "omc3.model.accelerators.iota.Iota": [[10, 3, 1, "", "verify_object"]], "omc3.model.accelerators.lhc": [[10, 2, 1, "", "Lhc"]], "omc3.model.accelerators.lhc.Lhc": [[10, 3, 1, "", "get_base_madx_script"], [10, 3, 1, "", "get_exciter_bpm"], [10, 3, 1, "", "get_ips"], [10, 3, 1, "", "get_update_correction_script"], [10, 3, 1, "", "get_variables"], [10, 3, 1, "", "verify_object"]], "omc3.model.accelerators.petra": [[10, 2, 1, "", "Petra"]], "omc3.model.accelerators.petra.Petra": [[10, 3, 1, "", "get_exciter_bpm"], [10, 3, 1, "", "verify_object"]], "omc3.model.accelerators.ps": [[10, 2, 1, "", "Ps"]], "omc3.model.accelerators.ps.Ps": [[10, 3, 1, "", "get_base_madx_script"], [10, 3, 1, "", "get_dir"], [10, 3, 1, "", "get_exciter_bpm"], [10, 3, 1, "", "get_file"], [10, 3, 1, "", "verify_object"]], "omc3.model.accelerators.psbooster": [[10, 2, 1, "", "Psbooster"]], "omc3.model.accelerators.psbooster.Psbooster": [[10, 3, 1, "", "get_base_madx_script"], [10, 3, 1, "", "get_exciter_bpm"], [10, 3, 1, "", "verify_object"]], "omc3.model.accelerators.skekb": [[10, 2, 1, "", "SKekB"]], "omc3.model.accelerators.skekb.SKekB": [[10, 3, 1, "", "verify_object"]], "omc3.model": [[10, 0, 0, "-", "constants"], [10, 0, 0, "-", "manager"]], "omc3.model.manager": [[10, 1, 1, "", "get_accelerator"], [10, 1, 1, "", "get_parsed_opt"]], "omc3.model.model_creators": [[10, 0, 0, "-", "lhc_model_creator"], [10, 0, 0, "-", "ps_model_creator"], [10, 0, 0, "-", "psbooster_model_creator"], [10, 0, 0, "-", "segment_creator"]], "omc3.model.model_creators.lhc_model_creator": [[10, 2, 1, "", "LhcBestKnowledgeCreator"], [10, 2, 1, "", "LhcCouplingCreator"], [10, 2, 1, "", "LhcModelCreator"]], "omc3.model.model_creators.lhc_model_creator.LhcBestKnowledgeCreator": [[10, 3, 1, "", "check_run_output"], [10, 3, 1, "", "get_madx_script"]], "omc3.model.model_creators.lhc_model_creator.LhcCouplingCreator": [[10, 3, 1, "", "get_madx_script"]], "omc3.model.model_creators.lhc_model_creator.LhcModelCreator": [[10, 3, 1, "", "get_correction_check_script"], [10, 3, 1, "", "get_madx_script"], [10, 3, 1, "", "prepare_run"]], "omc3.model.model_creators.ps_model_creator": [[10, 2, 1, "", "PsModelCreator"]], "omc3.model.model_creators.ps_model_creator.PsModelCreator": [[10, 3, 1, "", "get_correction_check_script"], [10, 3, 1, "", "get_madx_script"], [10, 3, 1, "", "prepare_run"]], "omc3.model.model_creators.psbooster_model_creator": [[10, 2, 1, "", "PsboosterModelCreator"]], "omc3.model.model_creators.psbooster_model_creator.PsboosterModelCreator": [[10, 3, 1, "", "get_correction_check_script"], [10, 3, 1, "", "get_madx_script"], [10, 3, 1, "", "prepare_run"]], "omc3.model_creator": [[2, 1, 1, "", "create_instance_and_model"]], "omc3.optics_measurements": [[11, 0, 0, "-", "beta_from_amplitude"], [11, 0, 0, "-", "beta_from_phase"], [11, 0, 0, "-", "chromatic"], [11, 0, 0, "-", "constants"], [11, 0, 0, "-", "crdt"], [11, 0, 0, "-", "dispersion"], [11, 0, 0, "-", "dpp"], [11, 0, 0, "-", "iforest"], [11, 0, 0, "-", "interaction_point"], [11, 0, 0, "-", "kick"], [11, 0, 0, "-", "measure_optics"], [11, 0, 0, "-", "phase"], [11, 0, 0, "-", "rdt"], [11, 0, 0, "-", "toolbox"], [11, 0, 0, "-", "tune"]], "omc3.optics_measurements.beta_from_amplitude": [[11, 1, 1, "", "calculate"]], "omc3.optics_measurements.beta_from_phase": [[11, 1, 1, "", "calculate"], [11, 1, 1, "", "calculate_beta_alpha_from_single_combination"], [11, 1, 1, "", "n_bpm_method"], [11, 1, 1, "", "three_bpm_method"]], "omc3.optics_measurements.dispersion": [[11, 1, 1, "", "calculate_dispersion"], [11, 1, 1, "", "calculate_normalised_dispersion"], [11, 1, 1, "", "calculate_orbit"]], "omc3.optics_measurements.dpp": [[11, 1, 1, "", "arrange_dpps"]], "omc3.optics_measurements.interaction_point": [[11, 1, 1, "", "betastar_from_phase"], [11, 1, 1, "", "phase_to_betastar"]], "omc3.optics_measurements.kick": [[11, 1, 1, "", "calculate"]], "omc3.optics_measurements.measure_optics": [[11, 2, 1, "", "InputFiles"], [11, 1, 1, "", "chromatic_beating"], [11, 1, 1, "", "measure_optics"]], "omc3.optics_measurements.measure_optics.InputFiles": [[11, 3, 1, "", "dpps"], [11, 3, 1, "", "get_columns"], [11, 3, 1, "", "get_data"], [11, 3, 1, "", "joined_frame"]], "omc3.optics_measurements.phase": [[11, 1, 1, "", "calculate"]], "omc3.optics_measurements.rdt": [[11, 1, 1, "", "calculate"], [11, 1, 1, "", "complex_secondary_lines"], [11, 1, 1, "", "get_linearized_problem"]], "omc3.optics_measurements.toolbox": [[11, 1, 1, "", "ang_interval_check"], [11, 1, 1, "", "ang_sum"], [11, 1, 1, "", "df_ang_diff"], [11, 1, 1, "", "df_diff"], [11, 1, 1, "", "df_diff_with_err"], [11, 1, 1, "", "df_err_sum"], [11, 1, 1, "", "df_prod"], [11, 1, 1, "", "df_prod_with_err"], [11, 1, 1, "", "df_ratio"], [11, 1, 1, "", "df_ratio_with_err"], [11, 1, 1, "", "df_rel_diff"], [11, 1, 1, "", "df_rel_diff_with_err"], [11, 1, 1, "", "df_rel_err_sum"], [11, 1, 1, "", "df_sum"], [11, 1, 1, "", "df_sum_with_err"]], "omc3.optics_measurements.tune": [[11, 2, 1, "", "TuneDict"]], "omc3.optics_measurements.tune.TuneDict": [[11, 3, 1, "", "get_lambda"], [11, 3, 1, "", "phase_ac2bpm"]], "omc3.plotting.optics_measurements": [[12, 0, 0, "-", "constants"], [12, 0, 0, "-", "utils"]], "omc3.plotting.optics_measurements.utils": [[12, 2, 1, "", "FigureCollector"], [12, 2, 1, "", "FigureContainer"]], "omc3.plotting.optics_measurements.utils.FigureCollector": [[12, 3, 1, "", "add_data_for_id"]], "omc3.plotting": [[3, 0, 0, "-", "plot_amplitude_detuning"], [3, 0, 0, "-", "plot_bbq"], [3, 0, 0, "-", "plot_optics_measurements"], [3, 0, 0, "-", "plot_spectrum"], [3, 0, 0, "-", "plot_tfs"]], "omc3.plotting.plot_amplitude_detuning": [[3, 2, 1, "", "FitFuncs"], [3, 1, 1, "", "plot_cube"], [3, 1, 1, "", "plot_odr"], [3, 1, 1, "", "plot_odr_3d"]], "omc3.plotting.plot_bbq": [[3, 1, 1, "", "main"]], "omc3.plotting.plot_optics_measurements": [[3, 1, 1, "", "plot"]], "omc3.plotting.plot_spectrum": [[3, 1, 1, "", "get_reshuffled_tab20c"]], "omc3.plotting.plot_tfs": [[3, 1, 1, "", "get_id"], [3, 1, 1, "", "plot"], [3, 1, 1, "", "sort_data"]], "omc3.plotting.spectrum": [[12, 0, 0, "-", "stem"], [12, 0, 0, "-", "utils"], [12, 0, 0, "-", "waterfall"]], "omc3.plotting.spectrum.stem": [[12, 1, 1, "", "create_stem_plots"]], "omc3.plotting.spectrum.utils": [[12, 2, 1, "", "FigureCollector"], [12, 2, 1, "", "FigureContainer"], [12, 2, 1, "", "IdData"], [12, 1, 1, "", "filter_amps"], [12, 1, 1, "", "get_bpms"], [12, 1, 1, "", "get_cycled_color"], [12, 1, 1, "", "get_data_for_bpm"], [12, 1, 1, "", "get_stem_id"], [12, 1, 1, "", "get_unique_filenames"], [12, 1, 1, "", "get_waterfall_id"], [12, 1, 1, "", "index_filter"], [12, 1, 1, "", "load_spectrum_data"]], "omc3.plotting.spectrum.utils.FigureCollector": [[12, 3, 1, "", "add_data_for_id"]], "omc3.plotting.spectrum.waterfall": [[12, 1, 1, "", "create_waterfall_plots"]], "omc3.plotting.utils": [[12, 0, 0, "-", "annotations"], [12, 0, 0, "-", "colors"], [12, 0, 0, "-", "lines"], [12, 0, 0, "-", "style"]], "omc3.plotting.utils.annotations": [[12, 2, 1, "", "OOMFormatter"], [12, 1, 1, "", "figure_title"], [12, 1, 1, "", "get_annotation"], [12, 1, 1, "", "get_ip_positions"], [12, 1, 1, "", "get_legend_ncols"], [12, 1, 1, "", "get_name"], [12, 1, 1, "", "make_top_legend"], [12, 1, 1, "", "move_ip_labels"], [12, 1, 1, "", "set_annotation"], [12, 1, 1, "", "set_name"], [12, 1, 1, "", "set_sci_magnitude"], [12, 1, 1, "", "set_xaxis_label"], [12, 1, 1, "", "set_yaxis_label"], [12, 1, 1, "", "show_ir"], [12, 1, 1, "", "small_title"]], "omc3.plotting.utils.colors": [[12, 1, 1, "", "change_color_brightness"], [12, 1, 1, "", "change_ebar_alpha_for_axes"], [12, 1, 1, "", "change_ebar_alpha_for_line"], [12, 1, 1, "", "get_mpl_color"], [12, 1, 1, "", "rgb_plotly_to_mpl"]], "omc3.plotting.utils.lines": [[12, 2, 1, "", "MarkerList"], [12, 1, 1, "", "plot_vertical_line"], [12, 1, 1, "", "plot_vertical_lines_fast"]], "omc3.plotting.utils.lines.MarkerList": [[12, 3, 1, "", "get_marker"], [12, 3, 1, "", "get_next_marker"]], "omc3.plotting.utils.style": [[12, 1, 1, "", "set_style"]], "omc3.response_creator": [[1, 1, 1, "", "create_response_entrypoint"]], "omc3.run_kmod": [[0, 1, 1, "", "analyse_kmod"]], "omc3.scripts": [[4, 0, 0, "-", "betabeatsrc_output_converter"], [4, 0, 0, "-", "fake_measurement_from_model"], [4, 0, 0, "-", "linfile_clean"], [4, 0, 0, "-", "merge_kmod_results"], [4, 0, 0, "-", "update_nattune_in_linfile"], [4, 0, 0, "-", "write_madx_macros"]], "omc3.scripts.betabeatsrc_output_converter": [[4, 1, 1, "", "convert_old_beta_from_amplitude"], [4, 1, 1, "", "convert_old_beta_from_phase"], [4, 1, 1, "", "convert_old_closed_orbit"], [4, 1, 1, "", "convert_old_coupling"], [4, 1, 1, "", "convert_old_directory_to_new"], [4, 1, 1, "", "convert_old_dispersion"], [4, 1, 1, "", "convert_old_normalised_dispersion"], [4, 1, 1, "", "convert_old_phase"], [4, 1, 1, "", "convert_old_total_phase"], [4, 1, 1, "", "converter_entrypoint"]], "omc3.scripts.fake_measurement_from_model": [[4, 1, 1, "", "append_model"], [4, 1, 1, "", "create_beta"], [4, 1, 1, "", "create_coupling"], [4, 1, 1, "", "create_dispersion"], [4, 1, 1, "", "create_measurement"], [4, 1, 1, "", "create_normalized_dispersion"], [4, 1, 1, "", "create_phase"], [4, 1, 1, "", "create_phase_advance"], [4, 1, 1, "", "create_total_phase"], [4, 1, 1, "", "generate"]], "omc3.scripts.linfile_clean": [[4, 1, 1, "", "clean_columns"], [4, 1, 1, "", "main"], [4, 1, 1, "", "restore_files"]], "omc3.scripts.merge_kmod_results": [[4, 1, 1, "", "get_kmod_ip_subdirs"], [4, 1, 1, "", "get_lumi_imbalance"], [4, 1, 1, "", "merge_kmod_results"], [4, 1, 1, "", "merge_tfs"]], "omc3.tbt_converter": [[2, 1, 1, "", "converter_entrypoint"]], "omc3.tune_analysis": [[14, 0, 0, "-", "bbq_tools"], [14, 0, 0, "-", "constants"], [14, 0, 0, "-", "fitting_tools"], [14, 0, 0, "-", "kick_file_modifiers"], [14, 0, 0, "-", "timber_extract"]], "omc3.tune_analysis.bbq_tools": [[14, 2, 1, "", "MinMaxFilterOpt"], [14, 2, 1, "", "OutlierFilterOpt"], [14, 1, 1, "", "clean_outliers_moving_average"], [14, 1, 1, "", "get_moving_average"]], "omc3.tune_analysis.constants": [[14, 2, 1, "", "AmpDetData"], [14, 2, 1, "", "FakeOdrOutput"], [14, 1, 1, "", "get_action_col"], [14, 1, 1, "", "get_action_err_col"], [14, 1, 1, "", "get_action_label"], [14, 1, 1, "", "get_bbq_col"], [14, 1, 1, "", "get_corr_natq_err_col"], [14, 1, 1, "", "get_detuning_exponent_for_order"], [14, 1, 1, "", "get_fine_cut_header"], [14, 1, 1, "", "get_fine_window_header"], [14, 1, 1, "", "get_mav_col"], [14, 1, 1, "", "get_mav_err_col"], [14, 1, 1, "", "get_mav_window_header"], [14, 1, 1, "", "get_max_tune_header"], [14, 1, 1, "", "get_min_tune_header"], [14, 1, 1, "", "get_natq_col"], [14, 1, 1, "", "get_natq_corr_col"], [14, 1, 1, "", "get_natq_err_col"], [14, 1, 1, "", "get_odr_header_coeff"], [14, 1, 1, "", "get_odr_header_coeff_corrected"], [14, 1, 1, "", "get_odr_header_err_coeff"], [14, 1, 1, "", "get_odr_header_err_coeff_corrected"], [14, 1, 1, "", "get_outlier_limit_header"], [14, 1, 1, "", "get_tend_head"], [14, 1, 1, "", "get_timber_bbq_key"], [14, 1, 1, "", "get_time_col"], [14, 1, 1, "", "get_tstart_head"], [14, 1, 1, "", "get_tune_label"], [14, 1, 1, "", "get_used_in_mav_col"]], "omc3.tune_analysis.fitting_tools": [[14, 1, 1, "", "do_2d_kicks_odr"], [14, 1, 1, "", "do_odr"], [14, 1, 1, "", "first_order_detuning_2d"], [14, 1, 1, "", "first_order_detuning_2d_jacobian"], [14, 1, 1, "", "get_poly_fun"], [14, 1, 1, "", "map_odr_fit_to_planes"]], "omc3.tune_analysis.kick_file_modifiers": [[14, 1, 1, "", "add_bbq_data"], [14, 1, 1, "", "add_corrected_natural_tunes"], [14, 1, 1, "", "add_moving_average"], [14, 1, 1, "", "add_odr"], [14, 1, 1, "", "convert_bbs_kickdataframe"], [14, 1, 1, "", "convert_bbs_kickfile"], [14, 1, 1, "", "get_ampdet_data"], [14, 1, 1, "", "get_odr_data"]], "omc3.tune_analysis.timber_extract": [[14, 1, 1, "", "extract_between_times"], [14, 1, 1, "", "get_fill_times"], [14, 1, 1, "", "get_tune_and_coupling_variables"], [14, 1, 1, "", "lhc_fill_to_tfs"]], "omc3.utils": [[15, 0, 0, "-", "contexts"], [15, 0, 0, "-", "iotools"], [15, 0, 0, "-", "logging_tools"], [15, 0, 0, "-", "mock"], [15, 0, 0, "-", "outliers"], [15, 0, 0, "-", "stats"], [15, 0, 0, "-", "time_tools"]], "omc3.utils.contexts": [[15, 1, 1, "", "log_out"], [15, 1, 1, "", "silence"], [15, 1, 1, "", "suppress_warnings"], [15, 1, 1, "", "timeit"]], "omc3.utils.iotools": [[15, 2, 1, "", "PathOrStr"], [15, 2, 1, "", "PathOrStrOrDataFrame"], [15, 2, 1, "", "UnionPathStr"], [15, 2, 1, "", "UnionPathStrInt"], [15, 1, 1, "", "convert_paths_in_dict_to_strings"], [15, 1, 1, "", "copy_content_of_dir"], [15, 1, 1, "", "copy_item"], [15, 1, 1, "", "create_dirs"], [15, 1, 1, "", "remove_none_dict_entries"], [15, 1, 1, "", "save_config"]], "omc3.utils.logging_tools": [[15, 2, 1, "", "DebugMode"], [15, 2, 1, "", "MaxFilter"], [15, 2, 1, "", "TempFile"], [15, 2, 1, "", "TempStringLogger"], [15, 1, 1, "", "add_module_handler"], [15, 1, 1, "", "add_root_handler"], [15, 1, 1, "", "file_handler"], [15, 1, 1, "", "getLogger"], [15, 1, 1, "", "get_logger"], [15, 1, 1, "", "get_my_logger_name"], [15, 1, 1, "", "list2str"], [15, 1, 1, "", "log_pandas_settings_with_copy"], [15, 1, 1, "", "logging_silence"], [15, 1, 1, "", "odr_pprint"], [15, 1, 1, "", "stream_handler"], [15, 1, 1, "", "unformatted_console_logging"]], "omc3.utils.logging_tools.TempStringLogger": [[15, 3, 1, "", "get_log"]], "omc3.utils.mock": [[15, 2, 1, "", "CERNNetworkMockPackage"], [15, 1, 1, "", "cern_network_import"]], "omc3.utils.outliers": [[15, 1, 1, "", "get_filter_mask"]], "omc3.utils.stats": [[15, 1, 1, "", "circular_error"], [15, 1, 1, "", "circular_mean"], [15, 1, 1, "", "circular_nanerror"], [15, 1, 1, "", "circular_nanmean"], [15, 1, 1, "", "effective_sample_size"], [15, 1, 1, "", "t_value_correction"], [15, 1, 1, "", "unbias_variance"], [15, 1, 1, "", "weighted_error"], [15, 1, 1, "", "weighted_mean"], [15, 1, 1, "", "weighted_nanmean"], [15, 1, 1, "", "weighted_nanrms"], [15, 1, 1, "", "weighted_rms"], [15, 1, 1, "", "weights_from_errors"]], "omc3.utils.time_tools": [[15, 2, 1, "", "AccDatetime"], [15, 6, 1, "", "AcceleratorDatetime"], [15, 2, 1, "", "CERNDatetime"], [15, 1, 1, "", "cern_utc_string_to_utc"], [15, 1, 1, "", "check_tz"], [15, 1, 1, "", "get_cern_time_format"], [15, 1, 1, "", "get_cern_timezone"], [15, 1, 1, "", "get_readable_time_format"], [15, 1, 1, "", "local_string_to_utc"], [15, 1, 1, "", "local_to_utc"], [15, 1, 1, "", "utc_now"], [15, 1, 1, "", "utc_string_to_utc"], [15, 1, 1, "", "utc_to_local"]], "omc3.utils.time_tools.AccDatetime": [[15, 3, 1, "", "add"], [15, 3, 1, "", "cern_utc_string"], [15, 5, 1, "", "datetime"], [15, 3, 1, "", "from_cern_utc_string"], [15, 3, 1, "", "from_local"], [15, 3, 1, "", "from_local_string"], [15, 3, 1, "", "from_timestamp"], [15, 3, 1, "", "from_utc"], [15, 3, 1, "", "from_utc_string"], [15, 5, 1, "", "local"], [15, 5, 1, "", "local_string"], [15, 5, 1, "", "local_timezone"], [15, 3, 1, "", "now"], [15, 3, 1, "", "sub"], [15, 5, 1, "", "utc"], [15, 5, 1, "", "utc_string"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method", "4": "py:exception", "5": "py:property", "6": "py:data"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "exception", "Python exception"], "5": ["py", "property", "Python property"], "6": ["py", "data", "Python data"]}, "titleterms": {"analysi": [0, 9, 14], "hole": 0, "One": 0, "amplitud": [0, 3, 11], "detun": [0, 3], "run": 0, "kmod": [0, 4, 9], "correct": [1, 6], "global": 1, "respons": [1, 6], "creator": [1, 2, 10], "other": 2, "tbt": 2, "convert": [2, 4], "model": [2, 4, 6, 10], "mad": [2, 4, 6], "x": [2, 4, 6], "wrapper": 2, "plot": [3, 12], "optic": [3, 11, 12], "measur": [3, 4, 11, 12], "tf": 3, "spectrum": [3, 12], "result": [3, 4], "bbq": [3, 14], "script": 4, "betabeat": 4, "src": 4, "output": 4, "merg": 4, "updat": 4, "natur": 4, "tune": [4, 11, 14], "lin": 4, "file": [4, 14], "write": 4, "macro": 4, "fake": 4, "from": [4, 11], "linfil": 4, "clean": [4, 8], "welcom": 5, "omc3": 5, "": 5, "document": 5, "packag": 5, "refer": 5, "main": 5, "entrypoint": 5, "modul": 5, "indic": 5, "tabl": 5, "constant": [6, 7, 8, 9, 10, 11, 12, 14], "filter": 6, "handler": [6, 8], "append": 6, "diff": 6, "twiss": 6, "sequenc": 6, "evalu": 6, "matrix": 6, "io": [6, 15], "definit": 7, "format": 7, "harpi": 8, "frequenc": 8, "kicker": 8, "helper": 9, "manag": 10, "acceler": 10, "esrf": 10, "lhc": 10, "p": 10, "booster": 10, "superkekb": 10, "iota": 10, "petra": 10, "segment": 10, "beta": 11, "phase": 11, "chromat": 11, "combin": 11, "rdt": 11, "dispers": 11, "dpp": 11, "isol": 11, "forest": 11, "interact": 11, "point": 11, "kick": [11, 14], "advanc": 11, "reson": 11, "drive": 11, "term": 11, "toolbox": 11, "subfunct": 12, "util": [12, 15], "stem": 12, "plotter": 12, "waterfal": 12, "common": 12, "function": 12, "annot": 12, "color": 12, "line": 12, "style": 12, "turn": 13, "tool": [14, 15], "fit": 14, "modifi": 14, "timber": 14, "extract": 14, "context": 15, "log": 15, "mock": 15, "outlier": 15, "stat": 15, "time": 15}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})