/*******************************************************************************
**                        Low-energy quadrupoles                              **
*******************************************************************************/
!focussing

   PR.QFN05      , K1  :=  KQFN05;
   PR.QFN09      , K1  :=  KQFN09;
   PR.QFW17      , K1  :=  KQFW17;
   PR.QFN21      , K1  :=  KQFN21;
   PR.QFW27      , K1  :=  KQFW27;
   PR.QFW31      , K1  :=  KQFW31;
   PR.QFN35      , K1  :=  KQFN35;
   PR.QFN39      , K1  :=  KQFN39;
   PR.QFN45      , K1  :=  KQFN45;
   PR.QFN49      , K1  :=  KQFN49;
   PR.QFN55      , K1  :=  KQFN55;
   PR.QFW59      , K1  :=  KQFW59;
   PR.QFN67      , K1  :=  KQFN67;
   PR.QFN71      , K1  :=  KQFN71;
   PR.QFN77      , K1  :=  KQFN77;
   PR.QFN81      , K1  :=  KQFN81;
   PR.QFN85      , K1  :=  KQFN85;
   PR.QFN89      , K1  :=  KQFN89;
   PR.QFN95      , K1  :=  KQFN95;
   PR.QFN99      , K1  :=  KQFN99;


   KQFN05 : = kf;
   KQFN09 : = kf;
   KQFW17 : = kf;
   KQFN21 : = kf;
   KQFW27 : = kf;
   KQFW31 : = kf;
   KQFN35 : = kf;
   KQFN39 : = kf;
   KQFN45 : = kf;
   KQFN49 : = kf;
   KQFN55 : = kf;
   KQFW59 : = kf;
   KQFN67 : = kf;
   KQFN71 : = kf;
   KQFN77 : = kf;
   KQFN81 : = kf;
   KQFN85 : = kf;
   KQFN89 : = kf;
   KQFN95 : = kf;
   KQFN99 : = kf;

!defocussing

   PR.QDW06      , K1  :=  KQDW06;
   PR.QDN10      , K1  :=  KQDN10;
   PR.QDW18      , K1  :=  KQDW18;
   PR.QDW22      , K1  :=  KQDW22;
   PR.QDW28      , K1  :=  KQDW28;
   PR.QDW32      , K1  :=  KQDW32;
   PR.QDN36      , K1  :=  KQDN36;
   PR.QDN40      , K1  :=  KQDN40;
   PR.QDN46      , K1  :=  KQDN46;
   PR.QDN50      , K1  :=  KQDN50;
   PR.QDW56      , K1  :=  KQDW56;
   PR.QDW60      , K1  :=  KQDW60;
   PR.QDN68      , K1  :=  KQDN68;
   PR.QDN72      , K1  :=  KQDN72;
   PR.QDN78      , K1  :=  KQDN78;
   PR.QDN82      , K1  :=  KQDN82;
   PR.QDN86      , K1  :=  KQDN86;
   PR.QDN90      , K1  :=  KQDN90;
   PR.QDN96      , K1  :=  KQDN96;
   PR.QDN00      , K1  :=  KQDN00;


   KQDW06 : = kd;
   KQDN10 : = kd;
   KQDW18 : = kd;
   KQDW22 : = kd;
   KQDW28 : = kd;
   KQDW32 : = kd;
   KQDN36 : = kd;
   KQDN40 : = kd;
   KQDN46 : = kd;
   KQDN50 : = kd;
   KQDW56 : = kd;
   KQDW60 : = kd;
   KQDN68 : = kd;
   KQDN72 : = kd;
   KQDN78 : = kd;
   KQDN82 : = kd;
   KQDN86 : = kd;
   KQDN90 : = kd;
   KQDN96 : = kd;
   KQDN00 : = kd;


/*******************************************************************************
**                        Skew quadrupoles                                    **
*******************************************************************************/

/*
!focussing
   
   PR.QSK03      , KSL  :=  {0, KQSK03};
   PR.QSK07      , KSL  :=  {0, KQSK07};
   PR.QSK19      , KSL  :=  {0, KQSK19};
   PR.QSK23      , KSL  :=  {0, KQSK23};
   PR.QSK29      , KSL  :=  {0, KQSK29};
   PR.QSK33      , KSL  :=  {0, KQSK33};
   PR.QSK37      , KSL  :=  {0, KQSK37};
   PR.QSK41      , KSL  :=  {0, KQSK41};
   PR.QSK43      , KSL  :=  {0, KQSK43};
   PR.QSK47      , KSL  :=  {0, KQSK47};
   PR.QSK53      , KSL  :=  {0, KQSK53};
   PR.QSK57      , KSL  :=  {0, KQSK57};
   PR.QSK69      , KSL  :=  {0, KQSK69};
   PR.QSK73      , KSL  :=  {0, KQSK73};
   PR.QSK79      , KSL  :=  {0, KQSK79};
   PR.QSK83      , KSL  :=  {0, KQSK83};
   PR.QSK87      , KSL  :=  {0, KQSK87};
   PR.QSK91      , KSL  :=  {0, KQSK91};
   PR.QSK93      , KSL  :=  {0, KQSK93};
   PR.QSK97      , KSL  :=  {0, KQSK97};


!defocussing

   PR.QSK04      , KSL  :=  {0, KQSK04};
   PR.QSK08      , KSL  :=  {0, KQSK08};
   PR.QSK20      , KSL  :=  {0, KQSK20};
   PR.QSK24      , KSL  :=  {0, KQSK24};
   PR.QSK30      , KSL  :=  {0, KQSK30};
   PR.QSK34      , KSL  :=  {0, KQSK34};
   PR.QSK38      , KSL  :=  {0, KQSK38};
   PR.QSK44      , KSL  :=  {0, KQSK44};
   PR.QSK48      , KSL  :=  {0, KQSK48};
   PR.QSK52      , KSL  :=  {0, KQSK52};
   PR.QSK54      , KSL  :=  {0, KQSK54};
   PR.QSK58      , KSL  :=  {0, KQSK58};
   PR.QSK70      , KSL  :=  {0, KQSK70};
   PR.QSK74      , KSL  :=  {0, KQSK74};
   PR.QSK80      , KSL  :=  {0, KQSK80};
   PR.QSK84      , KSL  :=  {0, KQSK84};
   PR.QSK88      , KSL  :=  {0, KQSK88};
   PR.QSK92      , KSL  :=  {0, KQSK92};
   PR.QSK94      , KSL  :=  {0, KQSK94};
   PR.QSK98      , KSL  :=  {0, KQSK98};
   */

/*******************************************************************************
**                  Horizontal correctors (backleg windings)                  **
*******************************************************************************/

PR.DHZ01.A, KICK := KDHZ01;
PR.DHZ01.B, KICK := KDHZ01;
PR.DHZ03.A, KICK := KDHZ03;
PR.DHZ03.B, KICK := KDHZ03;
PR.DHZ05.A, KICK := KDHZ05;
PR.DHZ05.B, KICK := KDHZ05;
PR.DHZ07.A, KICK := KDHZ07;
PR.DHZ07.B, KICK := KDHZ07;
PR.DHZ09.A, KICK := KDHZ09;
PR.DHZ09.B, KICK := KDHZ09;
PR.DHZ11.A, KICK := KDHZ11;
PR.DHZ11.B, KICK := KDHZ11;
PR.DHZ13.A, KICK := KDHZ13;
PR.DHZ13.B, KICK := KDHZ13;
PR.DHZ15.A, KICK := KDHZ15;
PR.DHZ15.B, KICK := KDHZ15;
PR.DHZ17.A, KICK := KDHZ17;
PR.DHZ17.B, KICK := KDHZ17;
PR.DHZ19.A, KICK := KDHZ19;
PR.DHZ19.B, KICK := KDHZ19;
PR.DHZ21.A, KICK := KDHZ21;
PR.DHZ21.B, KICK := KDHZ21;
PR.DHZ23.A, KICK := KDHZ23;
PR.DHZ23.B, KICK := KDHZ23;
PR.DHZ25.A, KICK := KDHZ25;
PR.DHZ25.B, KICK := KDHZ25;
PR.DHZ27.A, KICK := KDHZ27;
PR.DHZ27.B, KICK := KDHZ27;
PR.DHZ29.A, KICK := KDHZ29;
PR.DHZ29.B, KICK := KDHZ29;
PR.DHZ31.A, KICK := KDHZ31;
PR.DHZ31.B, KICK := KDHZ31;
PR.DHZ33.A, KICK := KDHZ33;
PR.DHZ33.B, KICK := KDHZ33;
PR.DHZ35.A, KICK := KDHZ35;
PR.DHZ35.B, KICK := KDHZ35;
PR.DHZ37.A, KICK := KDHZ37;
PR.DHZ37.B, KICK := KDHZ37;
PR.DHZ39.A, KICK := KDHZ39;
PR.DHZ39.B, KICK := KDHZ39;
PR.DHZ41.A, KICK := KDHZ41;
PR.DHZ41.B, KICK := KDHZ41;
PR.DHZ43.A, KICK := KDHZ43;
PR.DHZ43.B, KICK := KDHZ43;
PR.DHZ45.A, KICK := KDHZ45;
PR.DHZ45.B, KICK := KDHZ45;
PR.DHZ47.A, KICK := KDHZ47;
PR.DHZ47.B, KICK := KDHZ47;
PR.DHZ49.A, KICK := KDHZ49;
PR.DHZ49.B, KICK := KDHZ49;
PR.DHZ51.A, KICK := KDHZ51;
PR.DHZ51.B, KICK := KDHZ51;
PR.DHZ53.A, KICK := KDHZ53;
PR.DHZ53.B, KICK := KDHZ53;
PR.DHZ55.A, KICK := KDHZ55;
PR.DHZ55.B, KICK := KDHZ55;
PR.DHZ57.A, KICK := KDHZ57;
PR.DHZ57.B, KICK := KDHZ57;
PR.DHZ59.A, KICK := KDHZ59;
PR.DHZ59.B, KICK := KDHZ59;
PR.DHZ61.A, KICK := KDHZ61;
PR.DHZ61.B, KICK := KDHZ61;
PR.DHZ63.A, KICK := KDHZ63;
PR.DHZ63.B, KICK := KDHZ63;
PR.DHZ65.A, KICK := KDHZ65;
PR.DHZ65.B, KICK := KDHZ65;
PR.DHZ67.A, KICK := KDHZ67;
PR.DHZ67.B, KICK := KDHZ67;
PR.DHZ69.A, KICK := KDHZ69;
PR.DHZ69.B, KICK := KDHZ69;
PR.DHZ71.A, KICK := KDHZ71;
PR.DHZ71.B, KICK := KDHZ71;
PR.DHZ73.A, KICK := KDHZ73;
PR.DHZ73.B, KICK := KDHZ73;
PR.DHZ75.A, KICK := KDHZ75;
PR.DHZ75.B, KICK := KDHZ75;
PR.DHZ77.A, KICK := KDHZ77;
PR.DHZ77.B, KICK := KDHZ77;
PR.DHZ79.A, KICK := KDHZ79;
PR.DHZ79.B, KICK := KDHZ79;
PR.DHZ81.A, KICK := KDHZ81;
PR.DHZ81.B, KICK := KDHZ81;
PR.DHZ83.A, KICK := KDHZ83;
PR.DHZ83.B, KICK := KDHZ83;
PR.DHZ85.A, KICK := KDHZ85;
PR.DHZ85.B, KICK := KDHZ85;
PR.DHZ87.A, KICK := KDHZ87;
PR.DHZ87.B, KICK := KDHZ87;
PR.DHZ89.A, KICK := KDHZ89;
PR.DHZ89.B, KICK := KDHZ89;
PR.DHZ91.A, KICK := KDHZ91;
PR.DHZ91.B, KICK := KDHZ91;
PR.DHZ93.A, KICK := KDHZ93;
PR.DHZ93.B, KICK := KDHZ93;
PR.DHZ95.A, KICK := KDHZ95;
PR.DHZ95.B, KICK := KDHZ95;
PR.DHZ97.A, KICK := KDHZ97;
PR.DHZ97.B, KICK := KDHZ97;
PR.DHZ99.A, KICK := KDHZ99;
PR.DHZ99.B, KICK := KDHZ99;

/*******************************************************************************
**                        Vertical correctors                                 **
*******************************************************************************/

/*
   PR.DVT04      , KICK :=  KDVT04;
   PR.DVT08      , KICK :=  KDVT08;
   PR.DVT12      , KICK :=  KDVT12;
   PR.DVT20      , KICK :=  KDVT20;
   PR.DVT22      , KICK :=  KDVT22;
   PR.DVT24      , KICK :=  KDVT22;
   PR.DVT30      , KICK :=  KDVT22;
   PR.DVT34      , KICK :=  KDVT34;
   PR.DVT38      , KICK :=  KDVT38;
   PR.DVT44      , KICK :=  KDVT44;
   PR.DVT54      , KICK :=  KDVT54;
   PR.DVT64      , KICK :=  KDVT64;
   PR.DVT70      , KICK :=  KDVT70;
   PR.DVT74      , KICK :=  KDVT74;
   PR.DVT76      , KICK :=  KDVT76;
   PR.DVT80      , KICK :=  KDVT80;
   PR.DVT88      , KICK :=  KDVT88;
   PR.DVT94      , KICK :=  KDVT94;
   PR.DVT98      , KICK :=  KDVT98;
*/
/*******************************************************************************
**                        Transition quadrupoles                              **
*******************************************************************************/

CC406 := (1099.7E-6/0.20) /BRHO;
CC407 := (3043.E-6/0.20)  /BRHO;
CC408 := (1000.E-6/0.20)  /BRHO;
CC409 := (640.E-5/0.30)   /BRHO;

!Triplets

   PR.QTRTB07    , K1   := +ITRIPB*CC409;
   PR.QTRTA41    , K1   := -ITRIPA*CC407;
   PR.QTRTA49    , K1   := +ITRIPA*CC409;
   PR.QTRTA73    , K1   := -ITRIPA*CC407;
   PR.QTRTB99.A  , K1   := -ITRIPB*CC407;
   PR.QTRTB99.B  , K1   := -ITRIPB*CC407;


!Doublets

   PR.QTRDA19    , K1   := +IDOUBA*CC406;
   PR.QTRDA27    , K1   := -IDOUBA*CC406;
   PR.QTRDB29    , K1   := -IDOUBB*CC406;
   PR.QTRDB37    , K1   := +IDOUBB*CC408;
   PR.QTRDB61    , K1   := +IDOUBB*CC406;
   PR.QTRDB69    , K1   := -IDOUBB*CC408;
   PR.QTRDA87    , K1   := -IDOUBA*CC408;
   PR.QTRDA95    , K1   := +IDOUBA*CC408;

/*******************************************************************************
**                        Injection dipoles                                  **
*******************************************************************************/

   PI.BSW26.22   , KICK := +kBSW26;
   PI.BSW26.30   , KICK := +kBSW26;

   PI.BSW40      , KICK := +kBSW40;
   PI.BSW42      , KICK := +kBSW42;
   PI.BSW43      , KICK := +kBSW43;
   PI.BSW44      , KICK := +kBSW44;

/*******************************************************************************
**                        Extraction dipoles                                  **
*******************************************************************************/

   PE.BSW12   , KICK := +kBSW12;
   PE.BSW14   , KICK := +kBSW14;
   PE.BSW20   , KICK := +kBSW20;
   PE.BSW22   , KICK := +kBSW22;

   PE.BSW23.19   , KICK := KBSW23;
   PE.BSW23.27   , KICK := KBSW23;

   PE.BSW57.53   , KICK := KBSW57.53; ! Half kick due to modif on magnet. why?
   PE.BSW57.59   , KICK := KBSW57.59; ! Half kick due to modif on magnet. Ray doesnt know what.
   PE.BSW57.61   , KICK := KBSW57.61;
   PE.BSW57.67   , KICK := KBSW57.67; ! Half kick due to modif on magnet. Ray doesnt know what.
/*
   PE.BSW31.27   , KICK := +BSW31a*CC205;
   PE.BSW31.35   , KICK := +BSW31b*CC210;
*/
/*******************************************************************************
**                        High-energy corrector dipole                        **
*******************************************************************************/
/*
   PR.DHZOC05    , KICK := +BSW16f * CC210;
   PR.DHZOC18    , KICK := +BSW16e*CC205;
   PR.DHZOC60    , KICK := +DHZ60 * CC206;
*/
/*******************************************************************************
**                               MTE elements                                 **
*******************************************************************************/

!sextupoles

   PR.XNO39.A    , K2 :=  KXNO39;
   PR.XNO39.B    , K2 :=  KXNO39;
   PR.XNO55.A    , K2 :=  KXNO55;
   PR.XNO55.B    , K2 :=  KXNO55;

!octupoles

   PR.ONO39      , K3  :=  KONO39;
   PR.ONO55      , K3  :=  KONO55;

   PR.ODN40      , K3  :=  KODN;
   PR.ODN50      , K3  :=  KODN;
   PR.ODN52.A    , K3  :=  KODN;
   PR.ODN52.B    , K3  :=  KODN;
   PR.ODN70.A    , K3  :=  KODN;
   PR.ODN70.B    , K3  :=  KODN;
   PR.ODN90      , K3  :=  KODN;
   PR.ODN00      , K3  :=  KODN;

/*******************************************************************************
**                        Extraction kickers                                  **
*******************************************************************************/

   PE.KFA04      , KICK :=  KKFA04;
   PE.KFA13      , KICK :=  KKFA13;
   PE.KFA21      , KICK :=  KKFA21;
   PE.KFA71      , KICK :=  KKFA71;

/*******************************************************************************
**                        Slow extraction elements                            **
*******************************************************************************/

! quadrupoles

   PR.QSE29      , K1   := KQSE;
   PR.QSE87      , K1   := KQSE;

!sextupoles

   PR.XSE01.A    , K2  :=  KXSE1;
   PR.XSE01.B    , K2  :=  KXSE1;
   PR.XSE07      , K2  :=  KXSE2;

/*******************************************************************************
**                                    QKEs                                    **
*******************************************************************************/

   PE.QKE16.05   , K1   := -KQKE16;
   PE.QKE16.25   , K1   :=  KQKE16;

/*
   PE.QKE25      , K1   := +QKE162*CC414;
   PE.QKE73      , K1   := -QKE162*CC414;
*/

/*******************************************************************************
**                          Vertical sextupoles                               **
*******************************************************************************/
/*     
   PR.XNO60      , knl  :=  {0,0,IXNO*CC608};  ! SG 2014 -WARNING - check current name
   PR.XNO94      , knl  :=  {0,0,IXNO*CC608};  ! SG 2014 -WARNING - check current name
*/
/*******************************************************************************
**  Resonance compensation sextupoles (magnet with normal and skew circuits)  **
*******************************************************************************/
/*   
   PR.XSK10      ,  KNL:= {0.0, 0.0 ,0.108*IXcomp3/(BRHO)} , KSL:= {0.0, 0.0, 0.09*IXcomp4/(2*BRHO)};
   PR.XSK14      ,  KNL:= {0.0, 0.0 ,0.108*IXcomp3/(BRHO)} , KSL:= {0.0, 0.0, 0.09*IXcomp4/(2*BRHO)};
   PR.XSK52      ,  KNL:= {0.0, 0.0 ,0.108*IXcomp3/(BRHO)} , KSL:= {0.0, 0.0, 0.09*IXcomp4/(2*BRHO)};
   PR.XSK58      ,  KNL:= {0.0, 0.0 ,0.108*IXcomp3/(BRHO)} , KSL:= {0.0, 0.0, 0.09*IXcomp4/(2*BRHO)};
*/
RETURN;